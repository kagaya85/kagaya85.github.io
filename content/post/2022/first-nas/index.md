---
title: "çæŠ˜è…¾ï¼šåˆ©ç”¨NUC11æ‰“é€ å¹´è½»äººçš„ç¬¬ä¸€å°NASä¸ä¸ªäººå½±éŸ³ä¸­å¿ƒ"
description: "ä½ ä¸ºä»€ä¹ˆéœ€è¦ä¸€å°NASä»¥åŠåº”è¯¥å¦‚ä½•å…¥é—¨å‘¢?"
slug: "first-nas"
date: 2022-01-17T16:35:05+08:00
tags: ["NAS", "NUC", "Jellyfin", "Linux"]
categories: ["Technology"]
image: 59474391_p0.jpeg
hidden: false
comments: true
draft: false
---

## å†™åœ¨å‰é¢

ä¸ºä»€ä¹ˆæˆ‘ä¼šçªç„¶æƒ³æä¸€å°NASå‘¢ï¼Œæˆ‘è¿™ä¹ˆé—®è‡ªå·±ï¼Œä»”ç»†å›æƒ³ä¸€ä¸‹å¤§æ¦‚æ˜¯å› ä¸ºè‡ªä»ç•ªå‰§éœ€è¦è¿›è¡Œå®¡æ ¸æ‰èƒ½ä¸Šæ˜ çš„æ”¿ç­–å‡ºå°åï¼Œæˆ‘å°±å‡†å¤‡äº†ä¸€å—æµ·åº·å¨è§†çš„1T ssdæ¥ä¸€å—è´¥å®¶ä¹‹çœ¼çš„m2ç¡¬ç›˜ç›’ç”¨æ¥å­˜è‡ªå·±ä¸‹è½½çš„ç•ªå‰§ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿å’Œæœ‹å‹åˆ†äº«ï¼›åæ¥é˜¿bæ¨å‡ºäº†æ”¾æ˜ å®¤çš„åŠŸèƒ½ï¼Œåœ¨ç½‘é¡µä¸Šå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„å’Œæœ‹å‹ä¸€åŒçœ‹ç•ªçœ‹ç”µå½±ã€‚ä½†è¿™æ ·ç»ˆç©¶æ˜¯ä¸æ–¹ä¾¿ï¼Œé¦–å…ˆæ”¾æ˜ å®¤çš„å†…å®¹åªèƒ½å…ˆå®šäºé˜¿bå·²ç»æ‹¥æœ‰ç‰ˆæƒçš„å†…å®¹ï¼Œå…¶æ¬¡ï¼Œä½ çš„æœ‹å‹æœ€å¥½è¿˜è¦æœ‰å¤§ä¼šå‘˜ã€‚å¥½åœ¨æˆ‘æœ¬èº«å°±æ˜¯ä¸ªçˆ±æŠ˜è…¾çš„äººï¼Œåˆšå¥½å‰æ®µæ—¶é—´ç»™ç¾¤å‹æäº†ä¸€ä¸ªtsæœåŠ¡å™¨æ¥è®©ç¾¤å‹ä»¬å¹æ°´èŠå¤©ä»¥åŠæ¸¸æˆè¯­éŸ³ï¼Œæˆ‘å°±å¼€å§‹æƒ³èƒ½ä¸èƒ½é€šè¿‡è‡ªå»ºçš„æœåŠ¡å™¨ä¹Ÿå®ç°ä¸€ä¸ªç±»ä¼¼çš„æµåª’ä½“å¹³å°ï¼Œéšæ—¶å’Œæœ‹å‹åˆ†äº«è‡ªå·±ç§è—çš„ç”µå½±ç•ªå‰§ã€‚

å‡å¦‚æœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæŸå¤©æœ‰æœ‹å‹ï¼ˆå°å§å§ï¼‰æƒ³çœ‹ä¸ªç”µå½±ä½†è‹¦äºæ²¡æœ‰èµ„æºï¼Œåˆä¸æƒ³å»å„ç§ç‰›çš®ç™£å¹¿å‘Šæ¨ªé£çš„å°ç½‘ç«™ï¼Œåªå¾—æ±‚åŠ©äºä½ ã€‚ä½ è™½ç„¶æ—©å·²æŒæ¡ç§‘å­¦ä¸Šç½‘å¿«é€Ÿé€šè¿‡å„ç§é€”å¾„ç½‘ç½—äº†ç§å­èµ„æºï¼Œç†Ÿç»ƒåœ°è¿ç”¨btä¸‹è½½å™¨ä¸‹è½½åˆ°äº†æœ€æ–°çš„4K HDR 10bitèµ„æºï¼Œé‚£ä¹ˆä½ è¯¥æ€ä¹ˆå’Œè¿œåœ¨ç½‘çº¿å¦ä¸€ç«¯çš„å¥¹åˆ†äº«å‘¢ï¼Ÿå½“ç„¶ä½ å¯ä»¥æŠŠbtæ–‡ä»¶ä¸¢è¿‡å»è€å¿ƒåœ°æ•™å¥¹æ€ä¹ˆç”¨FDMæ¥ä¸‹è½½ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬èƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„æµåª’ä½“æœåŠ¡å™¨ï¼Œä¸å°±å¯ä»¥éšæ—¶éšåœ°çš„ç»™ä»»ä½•äººåˆ†äº«ç¡¬ç›˜é‡Œçš„ç‰‡äº†å—ï¼Ÿ

ä¹‹å‰å‘ç°å°åŒºæ˜¯æœ‰å…¬ç½‘ipçš„ï¼Œåœ¨æš´åŠ›ç ´è§£äº†å®½å¸¦è´¦å·æŠŠå…‰çŒ«æ”¹æˆæ¡¥æ¥ä»¥åï¼Œå°±å¯ä»¥ç›´é€šå¤–ç½‘äº†ï¼Œå°½ç®¡ä¸Šè¡Œå¸¦å®½å¹¶ä¸å¯Œè£•ï¼Œä½†è¿™ä¹ˆå¥½çš„èµ„æºä¸æ‹¿æ¥æ­æœåŠ¡å™¨ç®€ç›´æµªè´¹ï¼Œè€Œåˆâ€œæ°å¥½â€å®éªŒå®¤å‘ç”µè„‘æ˜¯ä¸€å°æœ€æ–°nuc11ï¼Œé…äº†11ä»£çš„é…·ç¿i7-1165G7ï¼Œå¹³æ—¶éƒ½ç”¨macçš„æˆ‘æ­£æ„è¯¥å¦‚ä½•åœ¨æ¯•ä¸šå‰å‘æŒ¥å®ƒçš„å‰©ä½™ä»·å€¼ï¼Œè¿™æ³¢å¤©æ—¶åœ°åˆ©å°±è¢«èµ¶ä¸Šäº†ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢çš„æŠ˜è…¾ã€‚

## æ–¹æ¡ˆæ¢ç´¢

åŸºäºnasçš„åª’ä½“ä¸­å¿ƒå…¶å®å·²ç»æœ‰ä¸å°‘æˆç†Ÿè§£å†³æ–¹æ¡ˆï¼ŒEmbyï¼ŒPlexä»¥åŠå¼€æºçš„Jellyfinéƒ½æ˜¯æœ€å¸¸ç”¨çš„ã€‚æˆ‘ä»¬åªéœ€è¦å§nasé‡Œå­˜çš„ç‰‡å…±äº«ç»™æµåª’ä½“æœåŠ¡å™¨ï¼Œç„¶ååœ¨å¤–ç½‘æš´éœ²ç«¯å£å°±è¡Œã€‚è¿™é‡Œä¸»è¦åˆä¸€äº›å…¶ä»–è€ƒè™‘ï¼šå½“å‰çš„ä¸»æœºéœ€è¦åœ¨æ¯•ä¸šåå½’è¿˜çš„ï¼Œå› æ­¤å¦‚ä½•èƒ½å¤Ÿåœ¨ä¿ç•™å¤§éƒ¨åˆ†æ•°æ®é…ç½®çš„æƒ…å†µä¸‹åšåˆ°å¿«é€Ÿè¿ç§»æ•´ä¸ªnasç³»ç»Ÿä¾¿æ˜¯æˆ‘é¦–å…ˆè€ƒè™‘çš„é—®é¢˜ã€‚åŒæ—¶ä¹‹åè‚¯å®šä¼šå†ç”¨ä¸€å°è‡ªå·±ç»„è£…çš„nasä»£æ›¿ç°åœ¨çš„ç³»ç»Ÿï¼Œå¦‚ä½•æœ€å¤§åŒ–å¤ç”¨ç¡¬ä»¶ä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ã€‚å› æ­¤åœ¨é€‰æ‹©ç¡¬ä»¶å’Œç³»ç»Ÿçš„æ—¶å€™å°±ä¼šæœ‰æ„ç•™æ„ä»¥ä¸Šä¸¤ç‚¹ã€‚

### ç¡¬ä»¶

ç¡¬ä»¶é€‰æ‹©æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ€æƒ³é€šè¿‡ä¸»æœº+ç¡¬ç›˜ç›’raidçš„æ–¹å¼æ¥å®ç°ï¼š

ä¸»æœºç”¨çš„æ˜¯ç™½å«–çš„Intel NUC11PAHi7 çŒè±¹å³¡è°·ï¼Œ40wçš„TDPï¼Œç¡¬ç›˜ä»æµ·é²œå¸‚åœºæ¡äº†ä¸¤å—4Tçš„å¸Œæ·é…·ç‹¼ï¼Œç¡¬ç›˜ç›’åŒæ ·ä¹Ÿæ˜¯ä»æµ·é²œå¸‚åœºæ¡çš„äºŒæ‰‹ä¸–ç‰¹åŠ›åŒç›˜ä½å¸¦raidçš„ç¡¬ç›˜ç›’ï¼Œå¯ä»¥ä¸¤å—ç»„ç¡¬raid1ã€‚åŒæ—¶é…äº†APCçš„BK650M2 UPSæ¥ä¿è¯ç”µæºçš„ç¨³å®šã€‚

åˆšæ‹¿åˆ°ä¸–ç‰¹åŠ›çš„ç¡¬ç›˜ç›’æ—¶å‘ç°å–å®¶å¹¶æ²¡æœ‰ç»™åŸè£…çš„è„šå«ï¼Œç›´æ¥æ”¾åˆ°æ¡Œå­ä¸Šä¼šæœ‰æŒºå¼ºçƒˆçš„å…±æŒ¯ï¼Œæ€•æåç¡¬ç›˜ä¸´æ—¶å«äº†å—çº¸æ¿ï¼Œæ”¾å‡å›æ¥åä¹°äº†å¸¦ä¸€ç‚¹åšåº¦çš„å‡éœ‡è´´è´´åˆ°å››ä¸ªè§’ï¼Œç¬é—´ç¨³ç¨³å½“å½“ï¼Œå™ªéŸ³ä¹Ÿå‡å¼±äº†ä¸å°‘ã€‚4Tçš„é…·ç‹¼æ˜¯5400è½¬ï¼Œæœ¬èº«å£°éŸ³ä¹Ÿå¾ˆå°ï¼Œæˆ¿é—´ä¸å¤§æˆ‘éƒ½æ˜¯ç›´æ¥æ”¾åˆ°åºŠè¾¹ï¼Œå‡ ä¹å¬ä¸åˆ°ä»€ä¹ˆå£°éŸ³ï¼Œå®¤å‹ä¹Ÿè¡¨ç¤ºå¾ˆå®‰é™æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚

ç¡¬ç›˜ç›’ä¹‹åç»„è£…æ–°nasåè¿˜å¯ä»¥æ‹¿æ¥æ‰©å±•æ–°nasçš„ç©ºé—´ï¼Œç¼ºç‚¹å°±æ˜¯usbä¸æ”¯æŒç¡¬ç›˜smartä¿¡æ¯çš„æŸ¥è¯¢ï¼Œå°½ç®¡å®ƒè¿˜å¸¦æœ‰ä¸€ä¸ªesataçš„æ¥å£ï¼Œä¸çŸ¥é“æ˜¯å¦æ”¯æŒã€‚

![æ•´ä½“æ‘†æ”¾åˆ°ä¸€èµ·è¿˜æ˜¯æŒºå°å·§çš„](IMG_20220219_235223.jpg)

### nasåº•å±‚ç³»ç»Ÿé€‰æ‹©

åœ¨é€‰æ‹©ç³»ç»Ÿä¹‹å‰é¦–å…ˆè¿˜æ˜¯è¦æ˜ç¡®éœ€æ±‚ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œéœ€æ±‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

1. å¯ä»¥7x24ç¨³å®šè¿è¡Œ
2. å¯ä»¥ç¡¬ä»¶ç›´é€šæ–¹ä¾¿åª’ä½“æœåŠ¡å™¨ä½¿ç”¨ç¡¬ä»¶ç¼–è§£ç 
3. å¯ä»¥å¼€è™šæ‹Ÿæœº
4. å¯¹Dockerå®¹å™¨èƒ½æœ‰è¾ƒå¥½çš„æ”¯æŒ
5. å¯ä»¥æ–¹ä¾¿å¤‡ä»½è¿ç§»

ç°åœ¨å¸‚é¢ä¸Šå‡ ä¹æ‰€æœ‰ç³»ç»Ÿéƒ½å¯ä»¥ç”¨æ¥åšnasï¼Œå› ä¸ºå¯¹linuxè¾ƒä¸ºç†Ÿæ‚‰ä¸”ä¸ºäº†è·å¾—åŸç”Ÿçš„dockeræ€§èƒ½å’Œä½“éªŒï¼Œæˆ‘åœ¨ä¸€å¼€å§‹å°±æ’é™¤çš„windowsç³»ç»Ÿï¼Œå¦å¤–FreeNasï¼ˆTrueNasï¼‰åŸºäºå†…å­˜çš„ç¼“å­˜ç­–ç•¥æ¨èä½¿ç”¨å¤§å†…å­˜+ECCï¼Œç¡¬ä»¶ä¸å…·å¤‡ä¹Ÿæš‚æ—¶ä¸è€ƒè™‘ï¼Œæ‰€ä»¥ä¸»è¦çš„é€‰æ‹©åœ¨ä»¥ä¸‹å‡ ä¸ªç³»ç»Ÿä¹‹é—´ï¼š

* EXSIã€PVEç­‰

  è¿™äº›è™šæ‹Ÿæœºç®¡ç†å¹³å°å¯¹äºå¤šè™šæ‹Ÿæœºçš„éœ€æ±‚è¿˜æ˜¯å¾ˆå®¹æ˜“æ»¡è¶³çš„ï¼Œå…¶ä¸­exsiä½œä¸ºä¼ä¸šçº§çš„å¹³å°è™½ç„¶å¯¹äºä¸ªäººä½¿ç”¨æ—¶å…è´¹çš„ï¼Œä½†å¯¹äºå®¶ç”¨ç¡¬ä»¶è®¾å¤‡å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œnucä¸Šè£…çš„exsi7.0å°±é‡åˆ°äº†æ²¡æœ‰ç½‘å¡é©±åŠ¨ä»¥åŠæ˜¾å¡æ— æ³•ç›´é€šçš„é—®é¢˜ç­‰ï¼Œæœ‰äº›å¯ä»¥è‡ªå·±æ‰‹åŠ¨è§£å†³ï¼Œä¹Ÿæœ‰ä¸€äº›é—®é¢˜éœ€è¦å®˜æ–¹æ”¯æŒç›®å‰æ¥è¯´æ˜¯æ— è§£çš„ï¼Œè¿™ä¹Ÿæ˜¯è€—è´¹äº†æˆ‘ä¸å°‘æ—¶é—´å»éªŒè¯æœ€åå¾—å‡ºçš„ç»“è®ºã€‚æ€»ä¹‹å¦‚æœä¸æ˜¯è¾ƒæ–°çš„ç¡¬ä»¶ï¼Œæ²¡æœ‰å…¼å®¹æ€§é—®é¢˜çš„å‰æä¸‹ï¼Œexsiæ˜“ç”¨çš„äº¤äº’ç•Œé¢ä»¥åŠä¸€äº›æˆç†Ÿçš„åŠŸèƒ½ï¼ˆç¡¬ä»¶ç›´é€šï¼Œè™šæ‹Ÿæœºå¿«ç…§å¤‡ä»½ï¼‰å¯èƒ½ä¼šæœ‰å¾ˆå¤§ä¼˜åŠ¿ï¼Œé™¤æ­¤ä¹‹å¤–åŸºäºlinuxçš„pveåº”è¯¥å¯ä»¥æé«˜è¾ƒå¥½çš„è½¯ç¡¬ä»¶å…¼å®¹æ€§

* OpenMediaVault

  omvæ˜¯æˆ‘åœ¨exsiä¸Šç”¨æ¥ä½“éªŒçš„nasç³»ç»Ÿï¼Œå¼€æºå…è´¹ï¼Œç›¸å¯¹äºTrueNaså®ƒæ›´æ¥è¿‘äºä¼ ç»Ÿnasç³»ç»Ÿï¼Œç£ç›˜æƒé™ç®¡ç†ã€è½¯raidç­‰åŠŸèƒ½éƒ½æ˜¯æœ‰çš„ï¼Œdockerç®¡ç†éœ€è¦å€ŸåŠ©portaineræ’ä»¶ä¹Ÿå¯ä»¥æ»¡è¶³ã€‚è¿™æ–¹é¢æˆ‘æ²¡æœ‰æ·±å…¥ä½“éªŒä¹Ÿä¸è¿‡å¤šè¯„è®ºäº†ã€‚

* Ubuntuå¯¹æˆ‘æ¥è¯´å°±æ˜¯ä¸Šæ‰‹å®¹æ˜“ï¼Œç›¸å…³ç¤¾åŒºç”Ÿæ€æ¯”è¾ƒæ´»è·ƒã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯ä»ubuntuå¼€å§‹é…ç½®èµ·ï¼Œè¿™ç¯‡åšå®¢ä¹Ÿä¸»è¦æ˜¯è®²ubuntuä¸Šçš„ä¸€äº›nasçš„åŸºæœ¬é…ç½®æ–¹ä¾¿ä¹‹åæŸ¥è¯¢ã€‚åœ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œç¡®å®å¯ä»¥æ»¡è¶³æˆ‘çš„åŸºæœ¬éœ€æ±‚ï¼Œdockeræ¥è·‘ä¸€äº›nasæœåŠ¡ï¼Œkvmæ¥é…ç½®è™šæ‹Ÿæœºï¼ŒåŒæ—¶è¿˜å¯ä»¥å½“è¿œç¨‹linuxä¸»æœºè·‘ä¸€äº›ç¨‹åºæˆ–è€…é…ç½®è¿œç¨‹å¼€å‘ç¯å¢ƒã€‚æ€»ä¹‹ï¼Œæ—¢ç„¶æ˜¯linuxï¼Œé‚£ä¹ˆå®ƒå‡ ä¹å¯ä»¥æ»¡è¶³ä¸€åˆ‡æƒ³è±¡çš„éœ€æ±‚ã€‚ä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¸å¥½è¿ç§»ï¼Œæœ¬æ¥è¿™æ ·ä¸€ä¸ªç³»ç»Ÿå¦‚æœæ˜¯å»ºç«‹åœ¨exsiä¸Šå¯ä»¥æ–¹ä¾¿çš„åšåˆ°è¿ç§»ï¼Œä½†æ˜¯ç”±äºå‰è¿°çš„ä¸€äº›åŸå› ï¼Œä»¥åŠå¯¹äºå¤šç¡¬ç›˜çš„ç®¡ç†ä¹Ÿä¸å¤ªç›´è§‚ä¾¿æ·ï¼Œæœ‰ä¸€å®šçš„ç»´æŠ¤æˆæœ¬ã€‚åœ¨è€ƒè™‘çš„ä¸€æ®µæ—¶é—´åä¸å¾—ä¸æ”¾å¼ƒè¿™ä¸ªæ–¹æ¡ˆï¼Œè½¬è€Œå¯»æ±‚ä¸€äº›æ›´åŠ ç¨³å®šæ–¹ä¾¿çš„æ–¹æ¡ˆï¼Œäºæ˜¯æˆ‘ä¾¿æ³¨æ„åˆ°äº†Unraidã€‚

* Unraid

  Unraidæœ€å¸å¼•æˆ‘çš„åªæœ‰ä¸¤ç‚¹ï¼š

  1. ç³»ç»Ÿå®‰è£…åœ¨ä¸€å—uç›˜ä¹‹ä¸­ï¼Œä¸å ç”¨nucé‡Œçš„å›ºæ€ç¡¬ç›˜ï¼Œè¿™æ ·å›ºæ€å¯ä»¥æ‹¿å‡ºæ¥å½“ç¼“å­˜ï¼Œè¿ç§»ç³»ç»Ÿåªéœ€è¦æŠŠuç›˜ç¡¬ç›˜è£…åœ¨å¦ä¸€å°ç”µè„‘ï¼Œç³»ç»Ÿé…ç½®å¯ä»¥å®Œæ•´ä¿ç•™ã€‚
  2. æ–¹ä¾¿ç›´è§‚çš„ç£ç›˜é˜µåˆ—ç®¡ç†ï¼Œç‰¹åˆ«æ˜¯unraidçš„ç†å¿µå¯ä»¥æ–¹ä¾¿æ·»åŠ å‡å°‘ç¡¬ç›˜è€Œä¸éœ€è¦é‡æ–°æ„å»ºé˜µåˆ—ï¼Œåœ¨ä¸è¿½æ±‚è¯»å†™æ€§èƒ½çš„å‰æä¸‹å¯ä»¥è¯´ååˆ†å¥½ç”¨äº†ã€‚

  å½“ç„¶ç¼ºç‚¹å°±æ˜¯å®ƒæ˜¯ä¸€ä¸ªæ”¶è´¹çš„ç³»ç»Ÿï¼Œä»·æ ¼ä¹Ÿä¸ä¾¿å®œï¼Œæˆ‘ç›®å‰ä¹Ÿåœ¨è¯•ç”¨ä½“éªŒæœŸï¼Œç­‰ä¸€æ®µæ—¶é—´çš„ä½¿ç”¨åå¯ä»¥è€ƒè™‘åœ¨èŠèŠæ„Ÿå—ã€‚

### ç¡¬ä»¶ç›´é€š

è¿™é‡Œçš„éœ€æ±‚ä¸»è¦è¿˜æ˜¯ç”¨äºç¡¬ä»¶è§£ç æˆ–è€…åšè½¯è·¯ç”±ç›´é€šç½‘å¡ç”¨ï¼Œå‰é¢ä¹Ÿå·²ç»æåˆ°ä¸€äº›ï¼Œå¦‚æœä¸è¿½æ±‚æœ€æ–°çš„ç¡¬ä»¶ï¼Œé‚£ä¹ˆexsiç³»ç»Ÿåº”è¯¥å¯ä»¥å¾ˆå¥½çš„æ»¡è¶³éœ€æ±‚ï¼Œå¦åˆ™éœ€è¦è€ƒè™‘åŸç”Ÿçš„linuxæˆ–è€…pveç³»ç»Ÿã€‚å¦å¤–ç¡¬ä»¶è§£ç å¯ä»¥ç›´æ¥åœ¨dockerå®¹å™¨é‡Œè°ƒç”¨æ˜¾å¡ï¼Œåªéœ€è¦å…³æ³¨æ‰€é€‰ç”¨çš„ç³»ç»Ÿæ˜¯å¦æœ‰å¯¹åº”æ˜¾å¡çš„é©±åŠ¨å³å¯ã€‚

## å®‰è£…è¿‡ç¨‹

è¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹å½“æ—¶ä¸»è¦çš„å®‰è£…é…ç½®è¿‡ç¨‹ï¼Œæƒ³çœ‹æœ€ç»ˆæ•ˆæœçš„å¯ä»¥ç›´æ¥ç‚¹[è¿™é‡Œ](#æœ€ç»ˆæ•ˆæœ)

### é…ç½®UPS

upså‡ ä¹æ˜¯naså¿…å¤‡äº†ï¼Œæˆ‘é€‰ç”¨çš„æ˜¯APCçš„BK650M2ï¼Œå…·ä½“é…ç½®æ–¹æ³•å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š[ä½¿ç”¨NUTè§£å†³BK650M2-CHå¤±è”é—®é¢˜ï¼ˆä¸€ï¼‰ - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/bb3a52916d79)

```bash
sudo apt install nut
```

### é…ç½®é‚®ä»¶æé†’

```bash
sudo apt install mailutils
```

### ç£ç›˜åˆ†åŒº fdiskï¼Œpartedå’Œgdisk

fdisk:

```
âœ  ~ sudo fdisk /dev/sda

Welcome to fdisk (util-linux 2.34).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Device does not contain a recognized partition table.
The size of this disk is 3.7 TiB (4000787030016 bytes). DOS partition table format cannot be used on drives for volumes larger than 2199023255040 bytes for 512-byte sectors. Use GUID partition table format (GPT).

Created a new DOS disklabel with disk identifier 0x277fe383.
```

ç”±äºMBRåˆ†åŒºè¡¨å¹¶ä¸æ”¯æŒ2Tä»¥ä¸Šçš„å®¹é‡ï¼Œå¿…é¡»è¯¥ç”¨GPTåˆ†åŒºè¡¨

æˆ‘ä»¬å…ˆä½¿ç”¨partedåˆ†åŒº:

```
âœ  ~ sudo parted /dev/sda
GNU Parted 3.3
Using /dev/sda
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) print
Error: /dev/sda: unrecognised disk label
Model: ST4000VN 008-2DR166 (scsi)
Disk /dev/sda: 4001GB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags:
(parted) mklabel gpt
(parted) print
Model: ST4000VN 008-2DR166 (scsi)
Disk /dev/sda: 4001GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start  End  Size  File system  Name  Flags

(parted) mkpart primary 0GB 4001GB
(parted) print
Model: ST4000VN 008-2DR166 (scsi)
Disk /dev/sda: 4001GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End     Size    File system  Name     Flags
 1      33.6MB  4001GB  4001GB               primary

(parted) quit
Information: You may need to update /etc/fstab.
```

ç„¶åä½¿ç”¨mkfsåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼š

```
âœ  ~ sudo mkfs.ext4 /dev/sda1
mke2fs 1.45.5 (07-Jan-2020)
/dev/sda1 alignment is offset by 512 bytes.
This may result in very poor performance, (re)-partitioning suggested.
Creating filesystem with 976741831 4k blocks and 244187136 inodes
Filesystem UUID: be74b765-92e7-4d99-a203-36863909129b
Superblock backups stored on blocks:
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
	102400000, 214990848, 512000000, 550731776, 644972544
```

partedçš„é»˜è®¤èµ·å§‹æ‰‡åŒºä¸º65535ï¼Œå¹¶ä¸æ˜¯8çš„æ•´æ•°å€ï¼Œå¹¶ä¸”å­˜åœ¨ä¸å°‘æµªè´¹ï¼Œè½¬ç”¨gdiskè¯•ä¸€ä¸‹

```
Command (? for help): p
Disk /dev/sda: 7814037168 sectors, 3.6 TiB
Model: 008-2DR166
Sector size (logical/physical): 512/512 bytes
Disk identifier (GUID): C32F7F72-31A6-4EAC-BB7A-5E9EF5E88865
Partition table holds up to 128 entries
Main partition table begins at sector 2 and ends at sector 33
First usable sector is 34, last usable sector is 7814037134
Partitions will be aligned on 2048-sector boundaries
Total free space is 2014 sectors (1007.0 KiB)

Number  Start (sector)    End (sector)  Size       Code  Name
   1            2048      7814037134   3.6 TiB     8300  Linux filesystem
```

lsblkçœ‹ä¸€ä¸‹ç¡®è®¤åˆ†åŒºå¤§å°

```
sda                         8:0    0   3.7T  0 disk
â””â”€sda1                      8:1    0   3.7T  0 part
```

é€šè¿‡mkfsåœ¨å¯¹åº”çš„åˆ†åŒºä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ:

```
âœ  ~ sudo mkfs.ext4 /dev/sda1
mke2fs 1.45.5 (07-Jan-2020)
Creating filesystem with 976754385 4k blocks and 244195328 inodes
Filesystem UUID: 678f5019-216a-4d94-95ab-ca4b219b0a95
Superblock backups stored on blocks:
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
	102400000, 214990848, 512000000, 550731776, 644972544

Allocating group tables: done
Writing inode tables: done
Creating journal (262144 blocks): done
Writing superblocks and filesystem accounting information: done
```

### è‡ªåŠ¨æŒ‚è½½

è‡ªåŠ¨æŒ‚è½½ä¸»è¦æ˜¯é€šè¿‡æŸ¥è¯¢å¯¹åº”ç£ç›˜çš„UUIDï¼Œç„¶åè®²æŒ‚è½½å‘½ä»¤å†™å…¥ç³»ç»Ÿçš„è‡ªåŠ¨æŒ‚è½½æ–‡ä»¶

```bash
blkid
vim echo "UUID=e943fbb7-020a-4c64-a48a-2597eb2496df /data ext4 defaults 0 0" >> /etc/fstab
# æˆ–è€…ç›´æ¥ vim /etc/fstab ç¼–è¾‘æ–‡ä»¶æŒ‰ä¸Šé¢ğŸ‘†çš„æ ¼å¼æ·»åŠ ä¸€è¡Œï¼šè®¾å¤‡UUID æŒ‚è½½ç‚¹ æ–‡ä»¶ç³»ç»Ÿ æŒ‚è½½é€‰é¡¹ æ˜¯å¦å¤‡ä»½ æ˜¯å¦æ£€æµ‹
sudo mount -a # æŒ‚è½½æ‰€æœ‰fstabä¸­çš„è®¾å¤‡
```

### é…ç½®nuc11æ˜¾å¡é©±åŠ¨

Intelå¯¹ubuntu 20.04çš„æ”¯æŒè¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œå¯ä»¥æŒ‰å®˜æ–¹æ–‡æ¡£æ¥è£…é©±åŠ¨ï¼Œseeï¼š[GPGPU: Ubuntu 20.04 (focal) (intel.com)](https://dgpu-docs.intel.com/installation-guides/ubuntu/ubuntu-focal.html)

```shell
sudo apt-get install \
  intel-opencl-icd \
  intel-level-zero-gpu level-zero \
  intel-media-va-driver-non-free libmfx1
```

å®‰è£…é©±åŠ¨åæ²¡æœ‰çœ‹åˆ°/dev/driæ–‡ä»¶å¤¹ï¼Œå‘ç°iris xeæ˜¾å¡æœ‰ä¸€äº›é¢å¤–çš„åŒ…éœ€è¦å®‰è£…ï¼š

see: [Ubuntu 20.04 no driver loaded for Intel Iris Xe Graphics - Ask Ubuntu](https://askubuntu.com/questions/1299067/ubuntu-20-04-no-driver-loaded-for-intel-iris-xe-graphics)

```shell
sudo apt update
sudo apt install linux-oem-20.04
sudo reboot
```

### WOLé…ç½®

å‰ææ˜¯éœ€è¦åœ¨ä¸»æ¿biosé‡Œæ‰“å¼€WOLè®¾ç½®ï¼Œå…·ä½“å‚è€ƒå¯¹åº”ä¸»æ¿çš„biosè®¾ç½®æ–¹æ³•

```bash
# å®‰è£…å·¥å…·
sudo apt install ethtool
# æŸ¥çœ‹ç½‘å¡è®¾å¤‡ï¼Œæ‰¾åˆ°å¯¹åº”ç‰©ç†ç½‘å¡
ip addr
# ç”¨ ethtool æŸ¥çœ‹æ˜¯å¦æ”¯æŒWake-On-Lan
sudo ethtool eht0
```

å¯èƒ½ä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

```
ethtool eth0
Settings for eth0:
        Supported ports: [  ]
        Supported link modes:   10baseT/Half 10baseT/Full
                                100baseT/Half 100baseT/Full
                                1000baseT/Full
                                2500baseT/Full
        Supported pause frame use: Symmetric
        Supports auto-negotiation: Yes
        Supported FEC modes: Not reported
        Advertised link modes:  10baseT/Half 10baseT/Full
                                100baseT/Half 100baseT/Full
                                1000baseT/Full
                                2500baseT/Full
        Advertised pause frame use: Symmetric
        Advertised auto-negotiation: Yes
        Advertised FEC modes: Not reported
        Speed: 2500Mb/s
        Duplex: Full
        Auto-negotiation: on
        Port: Twisted Pair
        PHYAD: 0
        Transceiver: internal
        MDI-X: off (auto)
        Supports Wake-on: pumbg
        Wake-on: g
        Current message level: 0x00000007 (7)
                               drv probe link
        Link detected: yes
```

ä¸»è¦å…³æ³¨è¿™ä¸¤è¡Œ:

```
Supports Wake-on: pumbg
Wake-on: g
```

ä¸Šé¢çš„pumbgä»£è¡¨æ”¯æŒå”¤é†’çš„ç±»å‹ï¼š

![å”¤é†’ç±»å‹](ScreenShot_2022-03-20_at_22.23.02.png)

ä¸‹é¢è¡¨ç¤ºå½“å‰çš„çŠ¶æ€ï¼Œå¦‚æœæ˜¯`d`ä»£è¡¨`disable`ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å¼€å¯ï¼š

```bash
sudo ethtool -s eth0 wol g
```

å…¶ä»–é…ç½®å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š[Enabling Wake-On-LAN (In Ubuntu 20.10) | The Cloistered Monkey (necromuralist.github.io)](https://necromuralist.github.io/posts/enabling-wake-on-lan/)

### exfat in ubuntu

ç”±äºæˆ‘ä¹‹å‰ä¸ºäº†åœ¨å¤šå¹³å°ä¹‹é—´é€šç”¨ï¼Œç§»åŠ¨ç¡¬ç›˜è¢«æ ¼å¼åŒ–ä¸ºé›¶exfatæ ¼å¼ï¼Œlinuxé»˜è®¤è¯»å†™exfatçš„æ—¶å€™å¶å°”ä¼šæœ‰é—®é¢˜ï¼Œå®‰è£…é¢å¤–çš„åŒ…æ¥è·å¾—æ›´ç¨³å®šçš„å…¼å®¹ï¼š

```shell
sudo apt install exfat-utils
```

### snap docker

é…ç½®å¥½docker composeåï¼Œå¯åŠ¨é‡åˆ°äº†ä¸‹é¢çš„é—®é¢˜ï¼š

```
âœ docker-compose up -d
Starting jellyfin ...
Starting webdav      ... error
Starting qbittorrent ...

Starting qbittorrent ... error
Starting jellyfin    ... error
ERROR: for qbittorrent  Cannot start service qbittorrent: error while creating mount source path '/data/config/qbittorrent': mkdir /data: read-only file system

ERROR: for jellyfin  Cannot start service jellyfin: error while creating mount source path '/data/config/jellyfin': mkdir /data: read-only file system

ERROR: for webdav  Cannot start service webdav: error while creating mount source path '/data/share': mkdir /data: read-only file system

ERROR: for qbittorrent  Cannot start service qbittorrent: error while creating mount source path '/data/config/qbittorrent': mkdir /data: read-only file system

ERROR: for jellyfin  Cannot start service jellyfin: error while creating mount source path '/data/config/jellyfin': mkdir /data: read-only file system
ERROR: Encountered errors while bringing up the project.
```

æŸ¥äº†ä¸€ä¸‹ï¼Œæ˜¯snapè‡ªå¸¦dockerçš„é—®é¢˜ï¼Œåˆ é™¤ubuntuè‡ªå¸¦çš„dockeré‡æ–°å®‰è£…å®˜æ–¹çš„dockerå³å¯

[ubuntu - Docker - mkdir read-only file system - Stack Overflow](https://stackoverflow.com/questions/52526219/docker-mkdir-read-only-file-system)

### Jellyfin ç¡¬è§£

å®éªŒå®¤ç»™çš„è¿™ä¸ªnuc11çš„è¿™å—1165g7è‡ªå¸¦æ¥ä¸€ä¸ªè“å‚æœ€æ–°çš„iris Xeæ ¸æ˜¾ï¼Œ96EUï¼Œæ€§èƒ½åº”è¯¥æ˜¯åŒä»£æ ¸æ˜¾é‡Œæœ€å¼ºçš„äº†ï¼Œæ®è¯´èƒ½æœ‰mx350çš„æ°´å¹³ï¼Ÿä¸æ‹¿æ¥å½“è§£ç å™¨çœŸæ˜¯æµªè´¹äº†ã€‚

ä½†é—®é¢˜ä¹Ÿå°±å‡ºåœ¨è¿™å—æ ¸æ˜¾å®åœ¨å¤ªæ–°äº†ï¼Œéœ€è¦æ–°çš„é©±åŠ¨ç¨‹åºï¼Œé…ç½®æ–¹å¼ä¹Ÿæœ‰ä¸€äº›ä¸åŒï¼Œå› æ­¤è€ƒè™‘æ˜¾å¡ç›´é€šä¹‹å‰ï¼Œä¸€å®šå…ˆè¦è°ƒç ”å¥½è½¯ç¡¬ä»¶çš„å…¼å®¹æ€§ã€‚

Jellyfinçš„å®˜æ–¹æ–‡æ¡£ï¼š[Hardware Acceleration | Documentation - Jellyfin Project](https://jellyfin.org/docs/general/administration/hardware-acceleration.html#tips-for-intel-gen9-and-gen11-when-using-vaapi-or-qsv-on-linux)ï¼Œä¸­æœ‰è¿™ä¹ˆä¸€æ®µè¯ï¼š

```
For Intel Comet Lake or newer iGPUs, the legacy i965 VA-API driver is incompatible with your hardware. Please follow the instructions from Configuring Intel QuickSync(QSV) on Debian/Ubuntu to get the newer iHD driver.
```

æ‰€ä»¥ä¸èƒ½åœ¨ä½¿ç”¨ä¹‹å‰çš„VAAPIï¼Œè½¬è€Œä½¿ç”¨æœ€æ–°çš„QuickSyncæ–¹å¼ï¼š

![ScreenShot_2022-01-27_at_18.26.01@2x](ScreenShot_2022-01-27_at_18.26.01@2x.png)

11ä»£cpuæ ¸æ˜¾éœ€è¦ä½¿ç”¨æ–°çš„é©±åŠ¨ï¼Œè€Œä¸”å› ä¸ºlicensesçš„åŸå› dockeré•œåƒé‡Œä¸èƒ½åŒ…å«é©±åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š

```shell
sudo apt update
sudo apt install vainfo intel-media-va-driver-non-free -y
```

å®‰è£…å¥½é©±åŠ¨åï¼Œ`ls /dev/dri`æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰å¯¹åº”çš„ç›®å½•

```shell
âœ  ~ ls /dev/dri
by-path  card0  renderD128
```

ç„¶åå°±å¯ä»¥åœ¨docker-composeæ–‡ä»¶ä¸­æŠŠæ˜¾å¡é©±åŠ¨å…±äº«ç»™å®¹å™¨ï¼ŒåŒæ—¶è®°å¾—éœ€è¦ç»™å®¹å™¨æ·»åŠ åˆ°renderçš„ç”¨æˆ·ç»„é‡Œ

```yaml
version: "3.9"
services:
  jellyfin:
    image: linuxserver/jellyfin:10.7.7
    container_name: jellyfin
    ports:
    	- ...
    group_add:
      - 109 # add to render group, see: cat /etc/group | grep render
    environment:
    	- ...
    devices:
      - /dev/dri:/dev/dri # Intel é›†æ˜¾é©±åŠ¨
```

æˆ–è€…æŠŠå½“å‰ç”¨æˆ·æ·»åŠ åˆ°renderç»„åŒæ—¶é€šè¿‡è®¾ç½®å®¹å™¨å†…çš„å¯åŠ¨ç”¨æˆ·ä¸ºå½“å‰ç”¨æˆ·æ¥å®ç°ç»Ÿä¸€çš„ç›®çš„

```shell
sudo usermod -a -G render [username]
```

è§£ç  2160p HEVC 10bitè§†é¢‘æµ‹è¯•ä¸€ä¸‹ï¼Œå®‰è£…intel-gpu-toolæŸ¥çœ‹å ç”¨ï¼Œå¯ä»¥çœ‹åˆ°ç¡®å®æœ‰ç”¨åˆ°æ˜¾å¡çš„è§£ç æ€§èƒ½ï¼š

```shell
sudo apt install intel-gpu-tools
sudo intel-gpu-top
intel-gpu-top - 1100/1299 MHz;    0% RC6; ----- (null);     3610 irqs/s

      IMC reads:   ------ (null)/s
     IMC writes:   ------ (null)/s

          ENGINE      BUSY                                                                                                                    MI_SEMA MI_WAIT
     Render/3D/0  100.00% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰|     36%      0%
       Blitter/0    0.00% |                                                                                                                 |      0%      0%
         Video/0   46.35% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                            |      0%      0%
         Video/1   39.64% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                                                                    |      0%      0%
  VideoEnhance/0   38.52% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ                                                                     |      0%      0%


```



### qBittorrent

ç›´æ¥è®¿é—®é¡µé¢ä¼šæç¤ºUnauthorizedï¼š[qBittorent UI returns 401 (blank page) when accessed through Kubernetes proxy Â· Issue #8095 Â· qbittorrent/qBittorrent (github.com)](https://github.com/qbittorrent/qBittorrent/issues/8095#issuecomment-472740702)

éœ€è¦åœ¨é…ç½®æ–‡ä»¶`qBittorrent.conf`åŠ ä¸€è¡Œï¼ˆæ³¨æ„éœ€è¦é€šè¿‡æ˜ å°„ç›®å½•åšå¥½é…ç½®çš„æŒä¹…åŒ–ï¼‰

```
WebUI\HostHeaderValidation=false
```

é‡å¯å®¹å™¨ï¼Œç„¶åè®¿é—®é¡µé¢ï¼Œä½¿ç”¨é»˜è®¤è´¦æˆ·adminï¼Œå¯†ç adminadminç™»é™†

### ç§æœ‰äº‘ç›˜

è¿™é‡Œå¯ä»¥é€‰æ‹©seafileå’Œnextcloudï¼Œæˆ–è€…ç›´æ¥æ­ä¸€ä¸ªwebdavæœåŠ¡å™¨ï¼ˆå¯ä»¥å‚è€ƒæœ€åçš„docker-composeé…ç½®ï¼‰ï¼Œä¸è¿‡æµ‹è¯•äº†ä¸‹æ€§èƒ½ä¸å¤ªå¥½ã€‚

## æœ€ç»ˆæ•ˆæœ

åšå¥½ç«¯å£æ˜ å°„åå…¬ç½‘å°±å¯ä»¥è®¿é—®ç½‘é¡µï¼š

æˆ‘åœ¨è¿™é‡Œé¡ºæ‰‹ä¸ºåŸŸåå»åŠ äº†è¯ä¹¦æ¥æ”¯æŒhttpsè®¿é—®

![å½±ç‰‡ä»‹ç»é¡µ](ScreenShot_2022-01-27_at_18.45.53@2x.png)

ç›´æ¥è®¿é—®ç½‘é¡µæ˜¯æœ€æ–¹ä¾¿çš„æ–¹å¼ï¼Œä½†æ˜¯å—é™ä¸æµè§ˆå™¨çš„åŸå› ï¼ŒChromiumç³»çš„æµè§ˆå™¨ä¸èƒ½ä½¿ç”¨hevcçš„ç¡¬è§£ï¼Œwin10ä¸‹çš„Edgeåº”è¯¥å¯ä»¥é€šè¿‡é¢å¤–çš„æ’ä»¶æ¥å®ç°hevcç¡¬è§£ï¼Œå› æ­¤ï¼Œæƒ³è¦é€šè¿‡å®¢æˆ·ç«¯ç¡¬è§£æ¥èŠ‚çœå¯æ€œçš„å°æ°´ç®¡å¸¦å®½çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨Jellyfinçš„å®¢æˆ·ç«¯ï¼š[jellyfin/jellyfin-media-player: Jellyfin Desktop Client based on Plex Media Player (github.com)](https://github.com/jellyfin/jellyfin-media-player)ï¼Œæˆ–è€…ç”¨safariç­‰æµè§ˆå™¨

æœ€å¥½æå‰ç”¨tmmç­‰å·¥å…·æœåˆ®ä¸€ä¸‹ç›¸å…³çš„ä»‹ç»/å›¾ç‰‡è¡¥å……å…ƒæ•°æ®ï¼Œç„¶åç»Ÿä¸€é‡å‘½åï¼ˆä¸ºäº†ä¸å¦¨ç¢åšç§ï¼Œæˆ‘é€‰æ‹©ç”¨`cp -al`ç¡¬è¿æ¥åˆ°Jellyfinçš„ç›®å½•ï¼Œå†æ”¹åï¼Œè¿™æ ·ä¹Ÿä¸ä¼šå ç”¨é¢å¤–çš„ç©ºé—´ï¼‰ï¼š

![æµ·æŠ¥å¢™](ScreenShot_2022-01-27_at_17.55.35@2x.png)

![å°‘æ­Œå¤©ä¸‹ç¬¬ä¸€](ScreenShot_2022-01-27_at_17.59.21@2x.png)

å¯ä»¥çœ‹åˆ°Jellyfinæ¼”å‘˜é…å›¾è´¨é‡è¿˜æ˜¯æŒºé«˜çš„ï¼š

![æ¼”å‘˜ä»‹ç»åŠç›¸å…³æ¨è](ScreenShot_2022-01-27_at_17.59.49@2x.png)

![æ’­æ”¾é¡µ](ScreenShot_2022-01-27_at_18.02.26@2x.png)

è½¬ç é€Ÿåº¦è¿˜æ˜¯æŒºå¿«çš„ï¼Œç“¶é¢ˆä¸»è¦æ˜¯åœ¨å®¶é‡Œçš„ä¸Šè¡Œå¸¦å®½åªæœ‰å¯æ€œçš„10må¤šï¼Œæ‰€ä»¥ç½‘é¡µç«¯è½¬ç ï¼Œæœ€å¤šåªèƒ½å¼€åˆ°1080pï¼Œç ç‡ä¹Ÿä¸æ•¢å¤ªé«˜æ›´ä¸å¯èƒ½å¤šäººä¸€èµ·çœ‹äº†ï¼Œ è€Œå¦‚æœç”¨å®¢æˆ·ç«¯æˆ–è€…safariæµè§ˆå™¨ç¡¬è§£ï¼Œ4K directå‡ ä¹å¯ä»¥ååˆ†æµç•…çš„æ’­æ”¾ï¼š

![æµè§ˆå™¨è½¬ç ä¿¡æ¯](ScreenShot_2022-01-27_at_18.49.54@2x.png) ![å®¢æˆ·ç«¯ç›´æ¨ä¿¡æ¯](ScreenShot_2022-01-27_at_18.51.17@2x.png)





### docker composeé…ç½®å‚è€ƒ

æœ€åé™„ä¸€ä¸ªdocker-composeçš„é…ç½®å‚è€ƒï¼š

```yaml
version: "3.9"
services:
  jellyfin:
    image: linuxserver/jellyfin:10.7.7
    container_name: jellyfin
    ports:
      - 8096:8096 # web ui
      - 8920:8920 # https
      - 7359:7359/udp
      - 1900:1900/udp
    group_add:
      - 109 # add to render group, see: cat /etc/group | grep render
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
    volumes:
      - /data/config/jellyfin:/config # é…ç½®
      - jfcache:/cache
      - /data/share/media:/data
      - /data/share/pt/qbittorrent/downloads/:/data/downloads:ro
      - /data/cert:/cert
    devices:
      - /dev/dri:/dev/dri # Intel é›†æ˜¾é©±åŠ¨
    restart: unless-stopped

  qbittorrent:
    image: linuxserver/qbittorrent:4.4.0
    container_name: qbittorrent
    ports:
      - 6881:6881
      - 6881:6881/udp
      - 8080:8080 # web ui
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - WEBUI_PORT=8080
    volumes:
      - /data/config/qbittorrent:/config
      - /data/share/pt/qbittorrent/downloads:/downloads
      - /data/cert:/cert
    restart: unless-stopped

  webdav: # webdavæœåŠ¡å™¨ï¼Œå¤–ç½‘ä½¿ç”¨æ€§èƒ½ä¸å¤ªå¥½
    image: hacdias/webdav:v4.1.1
    container_name: webdav
    ports:
      - 8081:80
    environment:
      - TZ=Asia/Shanghai
    command: [ "--config", "/opt/webdav.config.yml" ]
    volumes:
      - /data/share:/data
      - /data/config/webdav/webdav.config.yml:/opt/webdav.config.yml
      - /data/cert:/cert
    restart: unless-stopped

  tmm: # ä¸€ä¸ªå½±éŸ³åˆ®å‰Šè½¯ä»¶ï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šé€šè¿‡vnrè¿œç¨‹ä½¿ç”¨
    image: tinymediamanager/tinymediamanager:4.2.5.1
    container_name: tmm
    ports:
      - 4000:4000
    environment:
      - USER_ID=1000
      - GROUP_ID=1000
      - TZ=Asia/Shanghai
    volumes:
      - /data/config/tinymediamanager:/data
      - /data/share/media:/media
      - /data/cert:/cert
    restart: unless-stopped

volumes:
  jfcache:
```

![notbyai-white](/images/notbyai/en/Written-By-Human-Not-By-AI-Badge-white.png)
![notbyai-black](/images/notbyai/jp/Written-By-Human-Not-By-AI-Badge-black.png)