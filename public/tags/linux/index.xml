<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Linux on ã‹ãŒã‚„ã®éƒ¨å±‹</title>
        <link>https://blog.kagaya.fun/tags/linux/</link>
        <description>Recent content in Linux on ã‹ãŒã‚„ã®éƒ¨å±‹</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Mon, 17 Jan 2022 16:35:05 +0800</lastBuildDate><atom:link href="https://blog.kagaya.fun/tags/linux/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>çæŠ˜è…¾ï¼šåˆ©ç”¨NUC11æ‰“é€ å¹´è½»äººçš„ç¬¬ä¸€å°NASä¸ä¸ªäººå½±éŸ³ä¸­å¿ƒ</title>
        <link>https://blog.kagaya.fun/p/2022/first-nas/</link>
        <pubDate>Mon, 17 Jan 2022 16:35:05 +0800</pubDate>
        
        <guid>https://blog.kagaya.fun/p/2022/first-nas/</guid>
        <description>&lt;img src="https://blog.kagaya.fun/p/2022/first-nas/59474391_p0.jpeg" alt="Featured image of post çæŠ˜è…¾ï¼šåˆ©ç”¨NUC11æ‰“é€ å¹´è½»äººçš„ç¬¬ä¸€å°NASä¸ä¸ªäººå½±éŸ³ä¸­å¿ƒ" /&gt;&lt;h2 id=&#34;å†™åœ¨å‰é¢&#34;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæˆ‘ä¼šçªç„¶æƒ³æä¸€å°NASå‘¢ï¼Œæˆ‘è¿™ä¹ˆé—®è‡ªå·±ï¼Œä»”ç»†å›æƒ³ä¸€ä¸‹å¤§æ¦‚æ˜¯å› ä¸ºè‡ªä»ç•ªå‰§éœ€è¦è¿›è¡Œå®¡æ ¸æ‰èƒ½ä¸Šæ˜ çš„æ”¿ç­–å‡ºå°åï¼Œæˆ‘å°±å‡†å¤‡äº†ä¸€å—æµ·åº·å¨è§†çš„1T ssdæ¥ä¸€å—è´¥å®¶ä¹‹çœ¼çš„m2ç¡¬ç›˜ç›’ç”¨æ¥å­˜è‡ªå·±ä¸‹è½½çš„ç•ªå‰§ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿å’Œæœ‹å‹åˆ†äº«ï¼›åæ¥é˜¿bæ¨å‡ºäº†æ”¾æ˜ å®¤çš„åŠŸèƒ½ï¼Œåœ¨ç½‘é¡µä¸Šå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„å’Œæœ‹å‹ä¸€åŒçœ‹ç•ªçœ‹ç”µå½±ã€‚ä½†è¿™æ ·ç»ˆç©¶æ˜¯ä¸æ–¹ä¾¿ï¼Œé¦–å…ˆæ”¾æ˜ å®¤çš„å†…å®¹åªèƒ½å…ˆå®šäºé˜¿bå·²ç»æ‹¥æœ‰ç‰ˆæƒçš„å†…å®¹ï¼Œå…¶æ¬¡ï¼Œä½ çš„æœ‹å‹æœ€å¥½è¿˜è¦æœ‰å¤§ä¼šå‘˜ã€‚å¥½åœ¨æˆ‘æœ¬èº«å°±æ˜¯ä¸ªçˆ±æŠ˜è…¾çš„äººï¼Œåˆšå¥½å‰æ®µæ—¶é—´ç»™ç¾¤å‹æäº†ä¸€ä¸ªtsæœåŠ¡å™¨æ¥è®©ç¾¤å‹ä»¬å¹æ°´èŠå¤©ä»¥åŠæ¸¸æˆè¯­éŸ³ï¼Œæˆ‘å°±å¼€å§‹æƒ³èƒ½ä¸èƒ½é€šè¿‡è‡ªå»ºçš„æœåŠ¡å™¨ä¹Ÿå®ç°ä¸€ä¸ªç±»ä¼¼çš„æµåª’ä½“å¹³å°ï¼Œéšæ—¶å’Œæœ‹å‹åˆ†äº«è‡ªå·±ç§è—çš„ç”µå½±ç•ªå‰§ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚æœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæŸå¤©æœ‰æœ‹å‹ï¼ˆå°å§å§ï¼‰æƒ³çœ‹ä¸ªç”µå½±ä½†è‹¦äºæ²¡æœ‰èµ„æºï¼Œåˆä¸æƒ³å»å„ç§ç‰›çš®ç™£å¹¿å‘Šæ¨ªé£çš„å°ç½‘ç«™ï¼Œåªå¾—æ±‚åŠ©äºä½ ã€‚ä½ è™½ç„¶æ—©å·²æŒæ¡ç§‘å­¦ä¸Šç½‘å¿«é€Ÿé€šè¿‡å„ç§é€”å¾„ç½‘ç½—äº†ç§å­èµ„æºï¼Œç†Ÿç»ƒåœ°è¿ç”¨btä¸‹è½½å™¨ä¸‹è½½åˆ°äº†æœ€æ–°çš„4K HDR 10bitèµ„æºï¼Œé‚£ä¹ˆä½ è¯¥æ€ä¹ˆå’Œè¿œåœ¨ç½‘çº¿å¦ä¸€ç«¯çš„å¥¹åˆ†äº«å‘¢ï¼Ÿå½“ç„¶ä½ å¯ä»¥æŠŠbtæ–‡ä»¶ä¸¢è¿‡å»è€å¿ƒåœ°æ•™å¥¹æ€ä¹ˆç”¨FDMæ¥ä¸‹è½½ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬èƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„æµåª’ä½“æœåŠ¡å™¨ï¼Œä¸å°±å¯ä»¥éšæ—¶éšåœ°çš„ç»™ä»»ä½•äººåˆ†äº«ç¡¬ç›˜é‡Œçš„ç‰‡äº†å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¹‹å‰å‘ç°å°åŒºæ˜¯æœ‰å…¬ç½‘ipçš„ï¼Œåœ¨æš´åŠ›ç ´è§£äº†å®½å¸¦è´¦å·æŠŠå…‰çŒ«æ”¹æˆæ¡¥æ¥ä»¥åï¼Œå°±å¯ä»¥ç›´é€šå¤–ç½‘äº†ï¼Œå°½ç®¡ä¸Šè¡Œå¸¦å®½å¹¶ä¸å¯Œè£•ï¼Œä½†è¿™ä¹ˆå¥½çš„èµ„æºä¸æ‹¿æ¥æ­æœåŠ¡å™¨ç®€ç›´æµªè´¹ï¼Œè€Œåˆâ€œæ°å¥½â€å®éªŒå®¤å‘ç”µè„‘æ˜¯ä¸€å°æœ€æ–°nuc11ï¼Œé…äº†11ä»£çš„é…·ç¿i7-1165G7ï¼Œå¹³æ—¶éƒ½ç”¨macçš„æˆ‘æ­£æ„è¯¥å¦‚ä½•åœ¨æ¯•ä¸šå‰å‘æŒ¥å®ƒçš„å‰©ä½™ä»·å€¼ï¼Œè¿™æ³¢å¤©æ—¶åœ°åˆ©å°±è¢«èµ¶ä¸Šäº†ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢çš„æŠ˜è…¾ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ–¹æ¡ˆæ¢ç´¢&#34;&gt;æ–¹æ¡ˆæ¢ç´¢&lt;/h2&gt;
&lt;p&gt;åŸºäºnasçš„åª’ä½“ä¸­å¿ƒå…¶å®å·²ç»æœ‰ä¸å°‘æˆç†Ÿè§£å†³æ–¹æ¡ˆï¼ŒEmbyï¼ŒPlexä»¥åŠå¼€æºçš„Jellyfinéƒ½æ˜¯æœ€å¸¸ç”¨çš„ã€‚æˆ‘ä»¬åªéœ€è¦å§nasé‡Œå­˜çš„ç‰‡å…±äº«ç»™æµåª’ä½“æœåŠ¡å™¨ï¼Œç„¶ååœ¨å¤–ç½‘æš´éœ²ç«¯å£å°±è¡Œã€‚è¿™é‡Œä¸»è¦åˆä¸€äº›å…¶ä»–è€ƒè™‘ï¼šå½“å‰çš„ä¸»æœºéœ€è¦åœ¨æ¯•ä¸šåå½’è¿˜çš„ï¼Œå› æ­¤å¦‚ä½•èƒ½å¤Ÿåœ¨ä¿ç•™å¤§éƒ¨åˆ†æ•°æ®é…ç½®çš„æƒ…å†µä¸‹åšåˆ°å¿«é€Ÿè¿ç§»æ•´ä¸ªnasç³»ç»Ÿä¾¿æ˜¯æˆ‘é¦–å…ˆè€ƒè™‘çš„é—®é¢˜ã€‚åŒæ—¶ä¹‹åè‚¯å®šä¼šå†ç”¨ä¸€å°è‡ªå·±ç»„è£…çš„nasä»£æ›¿ç°åœ¨çš„ç³»ç»Ÿï¼Œå¦‚ä½•æœ€å¤§åŒ–å¤ç”¨ç¡¬ä»¶ä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ã€‚å› æ­¤åœ¨é€‰æ‹©ç¡¬ä»¶å’Œç³»ç»Ÿçš„æ—¶å€™å°±ä¼šæœ‰æ„ç•™æ„ä»¥ä¸Šä¸¤ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¡¬ä»¶&#34;&gt;ç¡¬ä»¶&lt;/h3&gt;
&lt;p&gt;ç¡¬ä»¶é€‰æ‹©æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ€æƒ³é€šè¿‡ä¸»æœº+ç¡¬ç›˜ç›’raidçš„æ–¹å¼æ¥å®ç°ï¼š&lt;/p&gt;
&lt;p&gt;ä¸»æœºç”¨çš„æ˜¯ç™½å«–çš„Intel NUC11PAHi7 çŒè±¹å³¡è°·ï¼Œ40wçš„TDPï¼Œç¡¬ç›˜ä»æµ·é²œå¸‚åœºæ¡äº†ä¸¤å—4Tçš„å¸Œæ·é…·ç‹¼ï¼Œç¡¬ç›˜ç›’åŒæ ·ä¹Ÿæ˜¯ä»æµ·é²œå¸‚åœºæ¡çš„äºŒæ‰‹ä¸–ç‰¹åŠ›åŒç›˜ä½å¸¦raidçš„ç¡¬ç›˜ç›’ï¼Œå¯ä»¥ä¸¤å—ç»„ç¡¬raid1ã€‚åŒæ—¶é…äº†APCçš„BK650M2 UPSæ¥ä¿è¯ç”µæºçš„ç¨³å®šã€‚&lt;/p&gt;
&lt;p&gt;åˆšæ‹¿åˆ°ä¸–ç‰¹åŠ›çš„ç¡¬ç›˜ç›’æ—¶å‘ç°å–å®¶å¹¶æ²¡æœ‰ç»™åŸè£…çš„è„šå«ï¼Œç›´æ¥æ”¾åˆ°æ¡Œå­ä¸Šä¼šæœ‰æŒºå¼ºçƒˆçš„å…±æŒ¯ï¼Œæ€•æåç¡¬ç›˜ä¸´æ—¶å«äº†å—çº¸æ¿ï¼Œæ”¾å‡å›æ¥åä¹°äº†å¸¦ä¸€ç‚¹åšåº¦çš„å‡éœ‡è´´è´´åˆ°å››ä¸ªè§’ï¼Œç¬é—´ç¨³ç¨³å½“å½“ï¼Œå™ªéŸ³ä¹Ÿå‡å¼±äº†ä¸å°‘ã€‚4Tçš„é…·ç‹¼æ˜¯5400è½¬ï¼Œæœ¬èº«å£°éŸ³ä¹Ÿå¾ˆå°ï¼Œæˆ¿é—´ä¸å¤§æˆ‘éƒ½æ˜¯ç›´æ¥æ”¾åˆ°åºŠè¾¹ï¼Œå‡ ä¹å¬ä¸åˆ°ä»€ä¹ˆå£°éŸ³ï¼Œå®¤å‹ä¹Ÿè¡¨ç¤ºå¾ˆå®‰é™æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ç¡¬ç›˜ç›’ä¹‹åç»„è£…æ–°nasåè¿˜å¯ä»¥æ‹¿æ¥æ‰©å±•æ–°nasçš„ç©ºé—´ï¼Œç¼ºç‚¹å°±æ˜¯usbä¸æ”¯æŒç¡¬ç›˜smartä¿¡æ¯çš„æŸ¥è¯¢ï¼Œå°½ç®¡å®ƒè¿˜å¸¦æœ‰ä¸€ä¸ªesataçš„æ¥å£ï¼Œä¸çŸ¥é“æ˜¯å¦æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/IMG_20220219_235223.jpg&#34;
	width=&#34;2736&#34;
	height=&#34;3648&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/IMG_20220219_235223_hud4ea90bc3d7b356f4e541d2f61d39eaf_2053664_480x0_resize_q75_box.jpg 480w, https://blog.kagaya.fun/p/2022/first-nas/IMG_20220219_235223_hud4ea90bc3d7b356f4e541d2f61d39eaf_2053664_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;æ•´ä½“æ‘†æ”¾åˆ°ä¸€èµ·è¿˜æ˜¯æŒºå°å·§çš„&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;75&#34;
		data-flex-basis=&#34;180px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;nasåº•å±‚ç³»ç»Ÿé€‰æ‹©&#34;&gt;nasåº•å±‚ç³»ç»Ÿé€‰æ‹©&lt;/h3&gt;
&lt;p&gt;åœ¨é€‰æ‹©ç³»ç»Ÿä¹‹å‰é¦–å…ˆè¿˜æ˜¯è¦æ˜ç¡®éœ€æ±‚ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œéœ€æ±‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥7x24ç¨³å®šè¿è¡Œ&lt;/li&gt;
&lt;li&gt;å¯ä»¥ç¡¬ä»¶ç›´é€šæ–¹ä¾¿åª’ä½“æœåŠ¡å™¨ä½¿ç”¨ç¡¬ä»¶ç¼–è§£ç &lt;/li&gt;
&lt;li&gt;å¯ä»¥å¼€è™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;å¯¹Dockerå®¹å™¨èƒ½æœ‰è¾ƒå¥½çš„æ”¯æŒ&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ–¹ä¾¿å¤‡ä»½è¿ç§»&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç°åœ¨å¸‚é¢ä¸Šå‡ ä¹æ‰€æœ‰ç³»ç»Ÿéƒ½å¯ä»¥ç”¨æ¥åšnasï¼Œå› ä¸ºå¯¹linuxè¾ƒä¸ºç†Ÿæ‚‰ä¸”ä¸ºäº†è·å¾—åŸç”Ÿçš„dockeræ€§èƒ½å’Œä½“éªŒï¼Œæˆ‘åœ¨ä¸€å¼€å§‹å°±æ’é™¤çš„windowsç³»ç»Ÿï¼Œå¦å¤–FreeNasï¼ˆTrueNasï¼‰åŸºäºå†…å­˜çš„ç¼“å­˜ç­–ç•¥æ¨èä½¿ç”¨å¤§å†…å­˜+ECCï¼Œç¡¬ä»¶ä¸å…·å¤‡ä¹Ÿæš‚æ—¶ä¸è€ƒè™‘ï¼Œæ‰€ä»¥ä¸»è¦çš„é€‰æ‹©åœ¨ä»¥ä¸‹å‡ ä¸ªç³»ç»Ÿä¹‹é—´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;EXSIã€PVEç­‰&lt;/p&gt;
&lt;p&gt;è¿™äº›è™šæ‹Ÿæœºç®¡ç†å¹³å°å¯¹äºå¤šè™šæ‹Ÿæœºçš„éœ€æ±‚è¿˜æ˜¯å¾ˆå®¹æ˜“æ»¡è¶³çš„ï¼Œå…¶ä¸­exsiä½œä¸ºä¼ä¸šçº§çš„å¹³å°è™½ç„¶å¯¹äºä¸ªäººä½¿ç”¨æ—¶å…è´¹çš„ï¼Œä½†å¯¹äºå®¶ç”¨ç¡¬ä»¶è®¾å¤‡å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œnucä¸Šè£…çš„exsi7.0å°±é‡åˆ°äº†æ²¡æœ‰ç½‘å¡é©±åŠ¨ä»¥åŠæ˜¾å¡æ— æ³•ç›´é€šçš„é—®é¢˜ç­‰ï¼Œæœ‰äº›å¯ä»¥è‡ªå·±æ‰‹åŠ¨è§£å†³ï¼Œä¹Ÿæœ‰ä¸€äº›é—®é¢˜éœ€è¦å®˜æ–¹æ”¯æŒç›®å‰æ¥è¯´æ˜¯æ— è§£çš„ï¼Œè¿™ä¹Ÿæ˜¯è€—è´¹äº†æˆ‘ä¸å°‘æ—¶é—´å»éªŒè¯æœ€åå¾—å‡ºçš„ç»“è®ºã€‚æ€»ä¹‹å¦‚æœä¸æ˜¯è¾ƒæ–°çš„ç¡¬ä»¶ï¼Œæ²¡æœ‰å…¼å®¹æ€§é—®é¢˜çš„å‰æä¸‹ï¼Œexsiæ˜“ç”¨çš„äº¤äº’ç•Œé¢ä»¥åŠä¸€äº›æˆç†Ÿçš„åŠŸèƒ½ï¼ˆç¡¬ä»¶ç›´é€šï¼Œè™šæ‹Ÿæœºå¿«ç…§å¤‡ä»½ï¼‰å¯èƒ½ä¼šæœ‰å¾ˆå¤§ä¼˜åŠ¿ï¼Œé™¤æ­¤ä¹‹å¤–åŸºäºlinuxçš„pveåº”è¯¥å¯ä»¥æé«˜è¾ƒå¥½çš„è½¯ç¡¬ä»¶å…¼å®¹æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OpenMediaVault&lt;/p&gt;
&lt;p&gt;omvæ˜¯æˆ‘åœ¨exsiä¸Šç”¨æ¥ä½“éªŒçš„nasç³»ç»Ÿï¼Œå¼€æºå…è´¹ï¼Œç›¸å¯¹äºTrueNaså®ƒæ›´æ¥è¿‘äºä¼ ç»Ÿnasç³»ç»Ÿï¼Œç£ç›˜æƒé™ç®¡ç†ã€è½¯raidç­‰åŠŸèƒ½éƒ½æ˜¯æœ‰çš„ï¼Œdockerç®¡ç†éœ€è¦å€ŸåŠ©portaineræ’ä»¶ä¹Ÿå¯ä»¥æ»¡è¶³ã€‚è¿™æ–¹é¢æˆ‘æ²¡æœ‰æ·±å…¥ä½“éªŒä¹Ÿä¸è¿‡å¤šè¯„è®ºäº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ubuntuå¯¹æˆ‘æ¥è¯´å°±æ˜¯ä¸Šæ‰‹å®¹æ˜“ï¼Œç›¸å…³ç¤¾åŒºç”Ÿæ€æ¯”è¾ƒæ´»è·ƒã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯ä»ubuntuå¼€å§‹é…ç½®èµ·ï¼Œè¿™ç¯‡åšå®¢ä¹Ÿä¸»è¦æ˜¯è®²ubuntuä¸Šçš„ä¸€äº›nasçš„åŸºæœ¬é…ç½®æ–¹ä¾¿ä¹‹åæŸ¥è¯¢ã€‚åœ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œç¡®å®å¯ä»¥æ»¡è¶³æˆ‘çš„åŸºæœ¬éœ€æ±‚ï¼Œdockeræ¥è·‘ä¸€äº›nasæœåŠ¡ï¼Œkvmæ¥é…ç½®è™šæ‹Ÿæœºï¼ŒåŒæ—¶è¿˜å¯ä»¥å½“è¿œç¨‹linuxä¸»æœºè·‘ä¸€äº›ç¨‹åºæˆ–è€…é…ç½®è¿œç¨‹å¼€å‘ç¯å¢ƒã€‚æ€»ä¹‹ï¼Œæ—¢ç„¶æ˜¯linuxï¼Œé‚£ä¹ˆå®ƒå‡ ä¹å¯ä»¥æ»¡è¶³ä¸€åˆ‡æƒ³è±¡çš„éœ€æ±‚ã€‚ä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¸å¥½è¿ç§»ï¼Œæœ¬æ¥è¿™æ ·ä¸€ä¸ªç³»ç»Ÿå¦‚æœæ˜¯å»ºç«‹åœ¨exsiä¸Šå¯ä»¥æ–¹ä¾¿çš„åšåˆ°è¿ç§»ï¼Œä½†æ˜¯ç”±äºå‰è¿°çš„ä¸€äº›åŸå› ï¼Œä»¥åŠå¯¹äºå¤šç¡¬ç›˜çš„ç®¡ç†ä¹Ÿä¸å¤ªç›´è§‚ä¾¿æ·ï¼Œæœ‰ä¸€å®šçš„ç»´æŠ¤æˆæœ¬ã€‚åœ¨è€ƒè™‘çš„ä¸€æ®µæ—¶é—´åä¸å¾—ä¸æ”¾å¼ƒè¿™ä¸ªæ–¹æ¡ˆï¼Œè½¬è€Œå¯»æ±‚ä¸€äº›æ›´åŠ ç¨³å®šæ–¹ä¾¿çš„æ–¹æ¡ˆï¼Œäºæ˜¯æˆ‘ä¾¿æ³¨æ„åˆ°äº†Unraidã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unraid&lt;/p&gt;
&lt;p&gt;Unraidæœ€å¸å¼•æˆ‘çš„åªæœ‰ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿå®‰è£…åœ¨ä¸€å—uç›˜ä¹‹ä¸­ï¼Œä¸å ç”¨nucé‡Œçš„å›ºæ€ç¡¬ç›˜ï¼Œè¿™æ ·å›ºæ€å¯ä»¥æ‹¿å‡ºæ¥å½“ç¼“å­˜ï¼Œè¿ç§»ç³»ç»Ÿåªéœ€è¦æŠŠuç›˜ç¡¬ç›˜è£…åœ¨å¦ä¸€å°ç”µè„‘ï¼Œç³»ç»Ÿé…ç½®å¯ä»¥å®Œæ•´ä¿ç•™ã€‚&lt;/li&gt;
&lt;li&gt;æ–¹ä¾¿ç›´è§‚çš„ç£ç›˜é˜µåˆ—ç®¡ç†ï¼Œç‰¹åˆ«æ˜¯unraidçš„ç†å¿µå¯ä»¥æ–¹ä¾¿æ·»åŠ å‡å°‘ç¡¬ç›˜è€Œä¸éœ€è¦é‡æ–°æ„å»ºé˜µåˆ—ï¼Œåœ¨ä¸è¿½æ±‚è¯»å†™æ€§èƒ½çš„å‰æä¸‹å¯ä»¥è¯´ååˆ†å¥½ç”¨äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“ç„¶ç¼ºç‚¹å°±æ˜¯å®ƒæ˜¯ä¸€ä¸ªæ”¶è´¹çš„ç³»ç»Ÿï¼Œä»·æ ¼ä¹Ÿä¸ä¾¿å®œï¼Œæˆ‘ç›®å‰ä¹Ÿåœ¨è¯•ç”¨ä½“éªŒæœŸï¼Œç­‰ä¸€æ®µæ—¶é—´çš„ä½¿ç”¨åå¯ä»¥è€ƒè™‘åœ¨èŠèŠæ„Ÿå—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç¡¬ä»¶ç›´é€š&#34;&gt;ç¡¬ä»¶ç›´é€š&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œçš„éœ€æ±‚ä¸»è¦è¿˜æ˜¯ç”¨äºç¡¬ä»¶è§£ç æˆ–è€…åšè½¯è·¯ç”±ç›´é€šç½‘å¡ç”¨ï¼Œå‰é¢ä¹Ÿå·²ç»æåˆ°ä¸€äº›ï¼Œå¦‚æœä¸è¿½æ±‚æœ€æ–°çš„ç¡¬ä»¶ï¼Œé‚£ä¹ˆexsiç³»ç»Ÿåº”è¯¥å¯ä»¥å¾ˆå¥½çš„æ»¡è¶³éœ€æ±‚ï¼Œå¦åˆ™éœ€è¦è€ƒè™‘åŸç”Ÿçš„linuxæˆ–è€…pveç³»ç»Ÿã€‚å¦å¤–ç¡¬ä»¶è§£ç å¯ä»¥ç›´æ¥åœ¨dockerå®¹å™¨é‡Œè°ƒç”¨æ˜¾å¡ï¼Œåªéœ€è¦å…³æ³¨æ‰€é€‰ç”¨çš„ç³»ç»Ÿæ˜¯å¦æœ‰å¯¹åº”æ˜¾å¡çš„é©±åŠ¨å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…è¿‡ç¨‹&#34;&gt;å®‰è£…è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹å½“æ—¶ä¸»è¦çš„å®‰è£…é…ç½®è¿‡ç¨‹ï¼Œæƒ³çœ‹æœ€ç»ˆæ•ˆæœçš„å¯ä»¥ç›´æ¥ç‚¹&lt;a class=&#34;link&#34; href=&#34;#%e6%9c%80%e7%bb%88%e6%95%88%e6%9e%9c&#34; &gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®ups&#34;&gt;é…ç½®UPS&lt;/h3&gt;
&lt;p&gt;upså‡ ä¹æ˜¯naså¿…å¤‡äº†ï¼Œæˆ‘é€‰ç”¨çš„æ˜¯APCçš„BK650M2ï¼Œå…·ä½“é…ç½®æ–¹æ³•å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.jianshu.com/p/bb3a52916d79&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½¿ç”¨NUTè§£å†³BK650M2-CHå¤±è”é—®é¢˜ï¼ˆä¸€ï¼‰ - ç®€ä¹¦ (jianshu.com)&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install nut
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;é…ç½®é‚®ä»¶æé†’&#34;&gt;é…ç½®é‚®ä»¶æé†’&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install mailutils
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;ç£ç›˜åˆ†åŒº-fdiskpartedå’Œgdisk&#34;&gt;ç£ç›˜åˆ†åŒº fdiskï¼Œpartedå’Œgdisk&lt;/h3&gt;
&lt;p&gt;fdisk:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ  ~ sudo fdisk /dev/sda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Welcome to fdisk (util-linux 2.34).
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Changes will remain in memory only, until you decide to write them.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Be careful before using the write command.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Device does not contain a recognized partition table.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The size of this disk is 3.7 TiB (4000787030016 bytes). DOS partition table format cannot be used on drives for volumes larger than 2199023255040 bytes for 512-byte sectors. Use GUID partition table format (GPT).
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created a new DOS disklabel with disk identifier 0x277fe383.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç”±äºMBRåˆ†åŒºè¡¨å¹¶ä¸æ”¯æŒ2Tä»¥ä¸Šçš„å®¹é‡ï¼Œå¿…é¡»è¯¥ç”¨GPTåˆ†åŒºè¡¨&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆä½¿ç”¨partedåˆ†åŒº:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ  ~ sudo parted /dev/sda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GNU Parted 3.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Using /dev/sda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Welcome to GNU Parted! Type &amp;#39;help&amp;#39; to view a list of commands.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(parted) print
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Error: /dev/sda: unrecognised disk label
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Model: ST4000VN 008-2DR166 (scsi)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sda: 4001GB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sector size (logical/physical): 512B/512B
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition Table: unknown
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk Flags:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(parted) mklabel gpt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(parted) print
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Model: ST4000VN 008-2DR166 (scsi)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sda: 4001GB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sector size (logical/physical): 512B/512B
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition Table: gpt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk Flags:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Number  Start  End  Size  File system  Name  Flags
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(parted) mkpart primary 0GB 4001GB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(parted) print
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Model: ST4000VN 008-2DR166 (scsi)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sda: 4001GB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sector size (logical/physical): 512B/512B
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition Table: gpt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk Flags:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Number  Start   End     Size    File system  Name     Flags
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 1      33.6MB  4001GB  4001GB               primary
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(parted) quit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Information: You may need to update /etc/fstab.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åä½¿ç”¨mkfsåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ  ~ sudo mkfs.ext4 /dev/sda1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mke2fs 1.45.5 (07-Jan-2020)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1 alignment is offset by 512 bytes.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This may result in very poor performance, (re)-partitioning suggested.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating filesystem with 976741831 4k blocks and 244187136 inodes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem UUID: be74b765-92e7-4d99-a203-36863909129b
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Superblock backups stored on blocks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	102400000, 214990848, 512000000, 550731776, 644972544
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;partedçš„é»˜è®¤èµ·å§‹æ‰‡åŒºä¸º65535ï¼Œå¹¶ä¸æ˜¯8çš„æ•´æ•°å€ï¼Œå¹¶ä¸”å­˜åœ¨ä¸å°‘æµªè´¹ï¼Œè½¬ç”¨gdiskè¯•ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Command (? for help): p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sda: 7814037168 sectors, 3.6 TiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Model: 008-2DR166
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sector size (logical/physical): 512/512 bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk identifier (GUID): C32F7F72-31A6-4EAC-BB7A-5E9EF5E88865
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition table holds up to 128 entries
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Main partition table begins at sector 2 and ends at sector 33
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;First usable sector is 34, last usable sector is 7814037134
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partitions will be aligned on 2048-sector boundaries
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total free space is 2014 sectors (1007.0 KiB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Number  Start (sector)    End (sector)  Size       Code  Name
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   1            2048      7814037134   3.6 TiB     8300  Linux filesystem
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;lsblkçœ‹ä¸€ä¸‹ç¡®è®¤åˆ†åŒºå¤§å°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sda                         8:0    0   3.7T  0 disk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â””â”€sda1                      8:1    0   3.7T  0 part
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é€šè¿‡mkfsåœ¨å¯¹åº”çš„åˆ†åŒºä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ  ~ sudo mkfs.ext4 /dev/sda1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mke2fs 1.45.5 (07-Jan-2020)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating filesystem with 976754385 4k blocks and 244195328 inodes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem UUID: 678f5019-216a-4d94-95ab-ca4b219b0a95
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Superblock backups stored on blocks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	102400000, 214990848, 512000000, 550731776, 644972544
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Allocating group tables: done
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Writing inode tables: done
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating journal (262144 blocks): done
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Writing superblocks and filesystem accounting information: done
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;è‡ªåŠ¨æŒ‚è½½&#34;&gt;è‡ªåŠ¨æŒ‚è½½&lt;/h3&gt;
&lt;p&gt;è‡ªåŠ¨æŒ‚è½½ä¸»è¦æ˜¯é€šè¿‡æŸ¥è¯¢å¯¹åº”ç£ç›˜çš„UUIDï¼Œç„¶åè®²æŒ‚è½½å‘½ä»¤å†™å…¥ç³»ç»Ÿçš„è‡ªåŠ¨æŒ‚è½½æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;blkid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vim &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;UUID=e943fbb7-020a-4c64-a48a-2597eb2496df /data ext4 defaults 0 0&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/fstab
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æˆ–è€…ç›´æ¥ vim /etc/fstab ç¼–è¾‘æ–‡ä»¶æŒ‰ä¸Šé¢ğŸ‘†çš„æ ¼å¼æ·»åŠ ä¸€è¡Œï¼šè®¾å¤‡UUID æŒ‚è½½ç‚¹ æ–‡ä»¶ç³»ç»Ÿ æŒ‚è½½é€‰é¡¹ æ˜¯å¦å¤‡ä»½ æ˜¯å¦æ£€æµ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mount -a &lt;span class=&#34;c1&#34;&gt;# æŒ‚è½½æ‰€æœ‰fstabä¸­çš„è®¾å¤‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;é…ç½®nuc11æ˜¾å¡é©±åŠ¨&#34;&gt;é…ç½®nuc11æ˜¾å¡é©±åŠ¨&lt;/h3&gt;
&lt;p&gt;Intelå¯¹ubuntu 20.04çš„æ”¯æŒè¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œå¯ä»¥æŒ‰å®˜æ–¹æ–‡æ¡£æ¥è£…é©±åŠ¨ï¼Œseeï¼š&lt;a class=&#34;link&#34; href=&#34;https://dgpu-docs.intel.com/installation-guides/ubuntu/ubuntu-focal.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GPGPU: Ubuntu 20.04 (focal) (intel.com)&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  intel-opencl-icd &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  intel-level-zero-gpu level-zero &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  intel-media-va-driver-non-free libmfx1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å®‰è£…é©±åŠ¨åæ²¡æœ‰çœ‹åˆ°/dev/driæ–‡ä»¶å¤¹ï¼Œå‘ç°iris xeæ˜¾å¡æœ‰ä¸€äº›é¢å¤–çš„åŒ…éœ€è¦å®‰è£…ï¼š&lt;/p&gt;
&lt;p&gt;see: &lt;a class=&#34;link&#34; href=&#34;https://askubuntu.com/questions/1299067/ubuntu-20-04-no-driver-loaded-for-intel-iris-xe-graphics&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ubuntu 20.04 no driver loaded for Intel Iris Xe Graphics - Ask Ubuntu&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install linux-oem-20.04
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;wolé…ç½®&#34;&gt;WOLé…ç½®&lt;/h3&gt;
&lt;p&gt;å‰ææ˜¯éœ€è¦åœ¨ä¸»æ¿biosé‡Œæ‰“å¼€WOLè®¾ç½®ï¼Œå…·ä½“å‚è€ƒå¯¹åº”ä¸»æ¿çš„biosè®¾ç½®æ–¹æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å®‰è£…å·¥å…·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install ethtool
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹ç½‘å¡è®¾å¤‡ï¼Œæ‰¾åˆ°å¯¹åº”ç‰©ç†ç½‘å¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip addr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç”¨ ethtool æŸ¥çœ‹æ˜¯å¦æ”¯æŒWake-On-Lan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo ethtool eht0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯èƒ½ä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ethtool eth0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Settings for eth0:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Supported ports: [  ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Supported link modes:   10baseT/Half 10baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                100baseT/Half 100baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                1000baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                2500baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Supported pause frame use: Symmetric
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Supports auto-negotiation: Yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Supported FEC modes: Not reported
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Advertised link modes:  10baseT/Half 10baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                100baseT/Half 100baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                1000baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                2500baseT/Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Advertised pause frame use: Symmetric
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Advertised auto-negotiation: Yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Advertised FEC modes: Not reported
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Speed: 2500Mb/s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Duplex: Full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Auto-negotiation: on
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Port: Twisted Pair
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        PHYAD: 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Transceiver: internal
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        MDI-X: off (auto)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Supports Wake-on: pumbg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Wake-on: g
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Current message level: 0x00000007 (7)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                               drv probe link
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Link detected: yes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸»è¦å…³æ³¨è¿™ä¸¤è¡Œ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Supports Wake-on: pumbg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Wake-on: g
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„pumbgä»£è¡¨æ”¯æŒå”¤é†’çš„ç±»å‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-03-20_at_22.23.02.png&#34;
	width=&#34;328&#34;
	height=&#34;244&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-03-20_at_22.23.02_hu0250fa2662c5104d64e6874bacab8e98_28968_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-03-20_at_22.23.02_hu0250fa2662c5104d64e6874bacab8e98_28968_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;å”¤é†’ç±»å‹&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;134&#34;
		data-flex-basis=&#34;322px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¡¨ç¤ºå½“å‰çš„çŠ¶æ€ï¼Œå¦‚æœæ˜¯&lt;code&gt;d&lt;/code&gt;ä»£è¡¨&lt;code&gt;disable&lt;/code&gt;ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å¼€å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo ethtool -s eth0 wol g
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…¶ä»–é…ç½®å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š&lt;a class=&#34;link&#34; href=&#34;https://necromuralist.github.io/posts/enabling-wake-on-lan/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Enabling Wake-On-LAN (In Ubuntu 20.10) | The Cloistered Monkey (necromuralist.github.io)&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;exfat-in-ubuntu&#34;&gt;exfat in ubuntu&lt;/h3&gt;
&lt;p&gt;ç”±äºæˆ‘ä¹‹å‰ä¸ºäº†åœ¨å¤šå¹³å°ä¹‹é—´é€šç”¨ï¼Œç§»åŠ¨ç¡¬ç›˜è¢«æ ¼å¼åŒ–ä¸ºé›¶exfatæ ¼å¼ï¼Œlinuxé»˜è®¤è¯»å†™exfatçš„æ—¶å€™å¶å°”ä¼šæœ‰é—®é¢˜ï¼Œå®‰è£…é¢å¤–çš„åŒ…æ¥è·å¾—æ›´ç¨³å®šçš„å…¼å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install exfat-utils
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;snap-docker&#34;&gt;snap docker&lt;/h3&gt;
&lt;p&gt;é…ç½®å¥½docker composeåï¼Œå¯åŠ¨é‡åˆ°äº†ä¸‹é¢çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ docker-compose up -d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Starting jellyfin ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Starting webdav      ... error
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Starting qbittorrent ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Starting qbittorrent ... error
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Starting jellyfin    ... error
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: for qbittorrent  Cannot start service qbittorrent: error while creating mount source path &amp;#39;/data/config/qbittorrent&amp;#39;: mkdir /data: read-only file system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: for jellyfin  Cannot start service jellyfin: error while creating mount source path &amp;#39;/data/config/jellyfin&amp;#39;: mkdir /data: read-only file system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: for webdav  Cannot start service webdav: error while creating mount source path &amp;#39;/data/share&amp;#39;: mkdir /data: read-only file system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: for qbittorrent  Cannot start service qbittorrent: error while creating mount source path &amp;#39;/data/config/qbittorrent&amp;#39;: mkdir /data: read-only file system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: for jellyfin  Cannot start service jellyfin: error while creating mount source path &amp;#39;/data/config/jellyfin&amp;#39;: mkdir /data: read-only file system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: Encountered errors while bringing up the project.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥äº†ä¸€ä¸‹ï¼Œæ˜¯snapè‡ªå¸¦dockerçš„é—®é¢˜ï¼Œåˆ é™¤ubuntuè‡ªå¸¦çš„dockeré‡æ–°å®‰è£…å®˜æ–¹çš„dockerå³å¯&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://stackoverflow.com/questions/52526219/docker-mkdir-read-only-file-system&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ubuntu - Docker - mkdir read-only file system - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;jellyfin-ç¡¬è§£&#34;&gt;Jellyfin ç¡¬è§£&lt;/h3&gt;
&lt;p&gt;å®éªŒå®¤ç»™çš„è¿™ä¸ªnuc11çš„è¿™å—1165g7è‡ªå¸¦æ¥ä¸€ä¸ªè“å‚æœ€æ–°çš„iris Xeæ ¸æ˜¾ï¼Œ96EUï¼Œæ€§èƒ½åº”è¯¥æ˜¯åŒä»£æ ¸æ˜¾é‡Œæœ€å¼ºçš„äº†ï¼Œæ®è¯´èƒ½æœ‰mx350çš„æ°´å¹³ï¼Ÿä¸æ‹¿æ¥å½“è§£ç å™¨çœŸæ˜¯æµªè´¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†é—®é¢˜ä¹Ÿå°±å‡ºåœ¨è¿™å—æ ¸æ˜¾å®åœ¨å¤ªæ–°äº†ï¼Œéœ€è¦æ–°çš„é©±åŠ¨ç¨‹åºï¼Œé…ç½®æ–¹å¼ä¹Ÿæœ‰ä¸€äº›ä¸åŒï¼Œå› æ­¤è€ƒè™‘æ˜¾å¡ç›´é€šä¹‹å‰ï¼Œä¸€å®šå…ˆè¦è°ƒç ”å¥½è½¯ç¡¬ä»¶çš„å…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Jellyfinçš„å®˜æ–¹æ–‡æ¡£ï¼š&lt;a class=&#34;link&#34; href=&#34;https://jellyfin.org/docs/general/administration/hardware-acceleration.html#tips-for-intel-gen9-and-gen11-when-using-vaapi-or-qsv-on-linux&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hardware Acceleration | Documentation - Jellyfin Project&lt;/a&gt;ï¼Œä¸­æœ‰è¿™ä¹ˆä¸€æ®µè¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;For Intel Comet Lake or newer iGPUs, the legacy i965 VA-API driver is incompatible with your hardware. Please follow the instructions from Configuring Intel QuickSync(QSV) on Debian/Ubuntu to get the newer iHD driver.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰€ä»¥ä¸èƒ½åœ¨ä½¿ç”¨ä¹‹å‰çš„VAAPIï¼Œè½¬è€Œä½¿ç”¨æœ€æ–°çš„QuickSyncæ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.26.01@2x.png&#34;
	width=&#34;1686&#34;
	height=&#34;738&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.26.01@2x_hu827f0cb3808d6f95844be226cc508ea7_136415_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.26.01@2x_hu827f0cb3808d6f95844be226cc508ea7_136415_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;ScreenShot_2022-01-27_at_18.26.01@2x&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;228&#34;
		data-flex-basis=&#34;548px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;11ä»£cpuæ ¸æ˜¾éœ€è¦ä½¿ç”¨æ–°çš„é©±åŠ¨ï¼Œè€Œä¸”å› ä¸ºlicensesçš„åŸå› dockeré•œåƒé‡Œä¸èƒ½åŒ…å«é©±åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install vainfo intel-media-va-driver-non-free -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å®‰è£…å¥½é©±åŠ¨åï¼Œ&lt;code&gt;ls /dev/dri&lt;/code&gt;æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰å¯¹åº”çš„ç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ  ~ ls /dev/dri
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;by-path  card0  renderD128
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åå°±å¯ä»¥åœ¨docker-composeæ–‡ä»¶ä¸­æŠŠæ˜¾å¡é©±åŠ¨å…±äº«ç»™å®¹å™¨ï¼ŒåŒæ—¶è®°å¾—éœ€è¦ç»™å®¹å™¨æ·»åŠ åˆ°renderçš„ç”¨æˆ·ç»„é‡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3.9&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;jellyfin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;linuxserver/jellyfin:10.7.7&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;jellyfin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    	&lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;group_add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;109 # add to render group, see&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;cat /etc/group | grep render&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    	&lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/dev/dri:/dev/dri&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Intel é›†æ˜¾é©±åŠ¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ–è€…æŠŠå½“å‰ç”¨æˆ·æ·»åŠ åˆ°renderç»„åŒæ—¶é€šè¿‡è®¾ç½®å®¹å™¨å†…çš„å¯åŠ¨ç”¨æˆ·ä¸ºå½“å‰ç”¨æˆ·æ¥å®ç°ç»Ÿä¸€çš„ç›®çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo usermod -a -G render &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;username&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è§£ç  2160p HEVC 10bitè§†é¢‘æµ‹è¯•ä¸€ä¸‹ï¼Œå®‰è£…intel-gpu-toolæŸ¥çœ‹å ç”¨ï¼Œå¯ä»¥çœ‹åˆ°ç¡®å®æœ‰ç”¨åˆ°æ˜¾å¡çš„è§£ç æ€§èƒ½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install intel-gpu-tools
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo intel-gpu-top
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;intel-gpu-top - 1100/1299 MHz&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;    0% RC6&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; ----- &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;null&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;3610&lt;/span&gt; irqs/s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      IMC reads:   ------ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;null&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;/s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     IMC writes:   ------ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;null&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;/s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          ENGINE      BUSY                                                                                                                    MI_SEMA MI_WAIT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     Render/3D/0  100.00% &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     36%      0%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       Blitter/0    0.00% &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;                                                                                                                 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;      0%      0%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         Video/0   46.35% &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                            &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;      0%      0%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         Video/1   39.64% &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                                                                    &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;      0%      0%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  VideoEnhance/0   38.52% &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ                                                                     &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;      0%      0%
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;qbittorrent&#34;&gt;qBittorrent&lt;/h3&gt;
&lt;p&gt;ç›´æ¥è®¿é—®é¡µé¢ä¼šæç¤ºUnauthorizedï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/qbittorrent/qBittorrent/issues/8095#issuecomment-472740702&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;qBittorent UI returns 401 (blank page) when accessed through Kubernetes proxy Â· Issue #8095 Â· qbittorrent/qBittorrent (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦åœ¨é…ç½®æ–‡ä»¶&lt;code&gt;qBittorrent.conf&lt;/code&gt;åŠ ä¸€è¡Œï¼ˆæ³¨æ„éœ€è¦é€šè¿‡æ˜ å°„ç›®å½•åšå¥½é…ç½®çš„æŒä¹…åŒ–ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WebUI\HostHeaderValidation=false
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é‡å¯å®¹å™¨ï¼Œç„¶åè®¿é—®é¡µé¢ï¼Œä½¿ç”¨é»˜è®¤è´¦æˆ·adminï¼Œå¯†ç adminadminç™»é™†&lt;/p&gt;
&lt;h3 id=&#34;ç§æœ‰äº‘ç›˜&#34;&gt;ç§æœ‰äº‘ç›˜&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œå¯ä»¥é€‰æ‹©seafileå’Œnextcloudï¼Œæˆ–è€…ç›´æ¥æ­ä¸€ä¸ªwebdavæœåŠ¡å™¨ï¼ˆå¯ä»¥å‚è€ƒæœ€åçš„docker-composeé…ç½®ï¼‰ï¼Œä¸è¿‡æµ‹è¯•äº†ä¸‹æ€§èƒ½ä¸å¤ªå¥½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ€ç»ˆæ•ˆæœ&#34;&gt;æœ€ç»ˆæ•ˆæœ&lt;/h2&gt;
&lt;p&gt;åšå¥½ç«¯å£æ˜ å°„åå…¬ç½‘å°±å¯ä»¥è®¿é—®ç½‘é¡µï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘åœ¨è¿™é‡Œé¡ºæ‰‹ä¸ºåŸŸåå»åŠ äº†è¯ä¹¦æ¥æ”¯æŒhttpsè®¿é—®&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.45.53@2x.png&#34;
	width=&#34;2384&#34;
	height=&#34;1716&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.45.53@2x_hu7e9d91f0ce2182ae390509f0ee984433_2318036_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.45.53@2x_hu7e9d91f0ce2182ae390509f0ee984433_2318036_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;å½±ç‰‡ä»‹ç»é¡µ&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;138&#34;
		data-flex-basis=&#34;333px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;ç›´æ¥è®¿é—®ç½‘é¡µæ˜¯æœ€æ–¹ä¾¿çš„æ–¹å¼ï¼Œä½†æ˜¯å—é™ä¸æµè§ˆå™¨çš„åŸå› ï¼ŒChromiumç³»çš„æµè§ˆå™¨ä¸èƒ½ä½¿ç”¨hevcçš„ç¡¬è§£ï¼Œwin10ä¸‹çš„Edgeåº”è¯¥å¯ä»¥é€šè¿‡é¢å¤–çš„æ’ä»¶æ¥å®ç°hevcç¡¬è§£ï¼Œå› æ­¤ï¼Œæƒ³è¦é€šè¿‡å®¢æˆ·ç«¯ç¡¬è§£æ¥èŠ‚çœå¯æ€œçš„å°æ°´ç®¡å¸¦å®½çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨Jellyfinçš„å®¢æˆ·ç«¯ï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/jellyfin/jellyfin-media-player&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;jellyfin/jellyfin-media-player: Jellyfin Desktop Client based on Plex Media Player (github.com)&lt;/a&gt;ï¼Œæˆ–è€…ç”¨safariç­‰æµè§ˆå™¨&lt;/p&gt;
&lt;p&gt;æœ€å¥½æå‰ç”¨tmmç­‰å·¥å…·æœåˆ®ä¸€ä¸‹ç›¸å…³çš„ä»‹ç»/å›¾ç‰‡è¡¥å……å…ƒæ•°æ®ï¼Œç„¶åç»Ÿä¸€é‡å‘½åï¼ˆä¸ºäº†ä¸å¦¨ç¢åšç§ï¼Œæˆ‘é€‰æ‹©ç”¨&lt;code&gt;cp -al&lt;/code&gt;ç¡¬è¿æ¥åˆ°Jellyfinçš„ç›®å½•ï¼Œå†æ”¹åï¼Œè¿™æ ·ä¹Ÿä¸ä¼šå ç”¨é¢å¤–çš„ç©ºé—´ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.55.35@2x.png&#34;
	width=&#34;3104&#34;
	height=&#34;1974&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.55.35@2x_hu527984ce824a24825f6d49847e024033_5612023_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.55.35@2x_hu527984ce824a24825f6d49847e024033_5612023_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;æµ·æŠ¥å¢™&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;157&#34;
		data-flex-basis=&#34;377px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.59.21@2x.png&#34;
	width=&#34;3104&#34;
	height=&#34;1974&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.59.21@2x_hu527984ce824a24825f6d49847e024033_2841895_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.59.21@2x_hu527984ce824a24825f6d49847e024033_2841895_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;å°‘æ­Œå¤©ä¸‹ç¬¬ä¸€&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;157&#34;
		data-flex-basis=&#34;377px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°Jellyfinæ¼”å‘˜é…å›¾è´¨é‡è¿˜æ˜¯æŒºé«˜çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.59.49@2x.png&#34;
	width=&#34;3104&#34;
	height=&#34;1974&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.59.49@2x_hu527984ce824a24825f6d49847e024033_4106443_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_17.59.49@2x_hu527984ce824a24825f6d49847e024033_4106443_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;æ¼”å‘˜ä»‹ç»åŠç›¸å…³æ¨è&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;157&#34;
		data-flex-basis=&#34;377px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.02.26@2x.png&#34;
	width=&#34;3104&#34;
	height=&#34;1974&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.02.26@2x_hu527984ce824a24825f6d49847e024033_3007836_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.02.26@2x_hu527984ce824a24825f6d49847e024033_3007836_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;æ’­æ”¾é¡µ&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;157&#34;
		data-flex-basis=&#34;377px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;è½¬ç é€Ÿåº¦è¿˜æ˜¯æŒºå¿«çš„ï¼Œç“¶é¢ˆä¸»è¦æ˜¯åœ¨å®¶é‡Œçš„ä¸Šè¡Œå¸¦å®½åªæœ‰å¯æ€œçš„10må¤šï¼Œæ‰€ä»¥ç½‘é¡µç«¯è½¬ç ï¼Œæœ€å¤šåªèƒ½å¼€åˆ°1080pï¼Œç ç‡ä¹Ÿä¸æ•¢å¤ªé«˜æ›´ä¸å¯èƒ½å¤šäººä¸€èµ·çœ‹äº†ï¼Œ è€Œå¦‚æœç”¨å®¢æˆ·ç«¯æˆ–è€…safariæµè§ˆå™¨ç¡¬è§£ï¼Œ4K directå‡ ä¹å¯ä»¥ååˆ†æµç•…çš„æ’­æ”¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.49.54@2x.png&#34;
	width=&#34;594&#34;
	height=&#34;1252&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.49.54@2x_hu5fca5cbc14f19802525f8200ef6866ea_479021_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.49.54@2x_hu5fca5cbc14f19802525f8200ef6866ea_479021_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;æµè§ˆå™¨è½¬ç ä¿¡æ¯&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;47&#34;
		data-flex-basis=&#34;113px&#34;
	
&gt; &lt;img src=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.51.17@2x.png&#34;
	width=&#34;494&#34;
	height=&#34;712&#34;
	srcset=&#34;https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.51.17@2x_hu318246765d45e8e0f439ef4e625e1678_96758_480x0_resize_box_3.png 480w, https://blog.kagaya.fun/p/2022/first-nas/ScreenShot_2022-01-27_at_18.51.17@2x_hu318246765d45e8e0f439ef4e625e1678_96758_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;å®¢æˆ·ç«¯ç›´æ¨ä¿¡æ¯&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;69&#34;
		data-flex-basis=&#34;166px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;docker-composeé…ç½®å‚è€ƒ&#34;&gt;docker composeé…ç½®å‚è€ƒ&lt;/h3&gt;
&lt;p&gt;æœ€åé™„ä¸€ä¸ªdocker-composeçš„é…ç½®å‚è€ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3.9&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;jellyfin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;linuxserver/jellyfin:10.7.7&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;jellyfin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;8096&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8096&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# web ui&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;8920&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8920&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# https&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;7359&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7359&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/udp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;1900&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1900&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/udp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;group_add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;109 # add to render group, see&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;cat /etc/group | grep render&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;PUID=1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;PGID=1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TZ=Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/config/jellyfin:/config&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# é…ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;jfcache:/cache&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/share/media:/data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/share/pt/qbittorrent/downloads/:/data/downloads:ro&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/cert:/cert&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/dev/dri:/dev/dri&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Intel é›†æ˜¾é©±åŠ¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;unless-stopped&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;qbittorrent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;linuxserver/qbittorrent:4.4.0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;qbittorrent&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;6881&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6881&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;6881&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6881&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/udp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# web ui&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;PUID=1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;PGID=1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TZ=Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;WEBUI_PORT=8080&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/config/qbittorrent:/config&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/share/pt/qbittorrent/downloads:/downloads&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/cert:/cert&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;unless-stopped&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;webdav&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# webdavæœåŠ¡å™¨ï¼Œå¤–ç½‘ä½¿ç”¨æ€§èƒ½ä¸å¤ªå¥½&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;hacdias/webdav:v4.1.1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;webdav&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;8081&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TZ=Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--config&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/opt/webdav.config.yml&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/share:/data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/config/webdav/webdav.config.yml:/opt/webdav.config.yml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/cert:/cert&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;unless-stopped&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tmm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ä¸€ä¸ªå½±éŸ³åˆ®å‰Šè½¯ä»¶ï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šé€šè¿‡vnrè¿œç¨‹ä½¿ç”¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;tinymediamanager/tinymediamanager:4.2.5.1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;tmm&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;4000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;USER_ID=1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;GROUP_ID=1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TZ=Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/config/tinymediamanager:/data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/share/media:/media&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/cert:/cert&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;unless-stopped&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;jfcache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>Unixç³»ç»Ÿåˆ†æâ€”â€”é”</title>
        <link>https://blog.kagaya.fun/p/2019/unix%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90%E9%94%81/</link>
        <pubDate>Tue, 25 Jun 2019 21:30:20 +0800</pubDate>
        
        <guid>https://blog.kagaya.fun/p/2019/unix%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90%E9%94%81/</guid>
        <description>&lt;img src="https://blog.kagaya.fun/p/2019/unix%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90%E9%94%81/81377457_p2.jpg" alt="Featured image of post Unixç³»ç»Ÿåˆ†æâ€”â€”é”" /&gt;&lt;h1 id=&#34;unixç³»ç»Ÿåˆ†æé”&#34;&gt;Unixç³»ç»Ÿåˆ†æâ€”â€”é”&lt;/h1&gt;
&lt;p&gt;æ€»ç»“Unixç³»ç»Ÿä¸­é”çš„ç›¸å…³çŸ¥è¯†&lt;/p&gt;
&lt;h2 id=&#34;linuxå„ç§é”çš„å®ç°&#34;&gt;Linuxå„ç§é”çš„å®ç°&lt;/h2&gt;
&lt;h3 id=&#34;åŸå­æ“ä½œ&#34;&gt;åŸå­æ“ä½œ&lt;/h3&gt;
&lt;p&gt;åŸå­æ“ä½œæ˜¯æœ€å°çš„æ‰§è¡Œå•ä½ï¼Œä¿è¯åœ¨æ‰§è¡Œå®Œæ¯•å‰ä¸ä¼šè¢«å…¶ä»–ä»»ä½•äº‹ç‰©æˆ–äº‹ä»¶æ‰“æ–­ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½æœ‰æ¯”å®ƒæ›´å°çš„æ‰§è¡Œå•ä½ï¼Œå‘½åä¹Ÿå€Ÿç”¨äº†ç‰©ç†å­¦ä¸­ç‰©è´¨ç¨³å®šå­˜åœ¨çš„æœ€å°å•ä½â€”â€”åŸå­ã€‚&lt;/p&gt;
&lt;p&gt;åŸå­æ“ä½œäºç¡¬ä»¶æ¶æ„ç›¸å…³ï¼Œç”±æ±‡ç¼–è¯­è¨€å®ç°ï¼Œä¸€èˆ¬ç”¨äºå®ç°è®¡æ•°ç­‰æ“ä½œ&lt;/p&gt;
&lt;h3 id=&#34;ä¿¡å·é‡&#34;&gt;ä¿¡å·é‡&lt;/h3&gt;
&lt;p&gt;ä¿¡å·é‡ï¼ŒSemaphoreï¼ŒLinuxå†…æ ¸ä¿¡å·é‡ä»¥ä¸€ä¸ªåˆå§‹å€¼åˆ›å»ºï¼Œç”¨æ¥è¡¨ç¤ºåŒæ—¶å¯ä»¥æœ‰å‡ ä¸ªä»»åŠ¡å¯ä»¥è®¿é—®ç”±ä¿¡å·é‡ä¿æŠ¤çš„å…±äº«èµ„æºã€‚åˆå§‹å€¼ä¸º1çš„ä¿¡å·é‡å°±æ˜¯äº’æ–¥é”ï¼Œå³åœ¨åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡å¯ä»¥è®¿é—®ä¿¡å·é‡ä¿æŠ¤çš„å…±äº«èµ„æº&lt;/p&gt;
&lt;h4 id=&#34;å®ç°åŸç†&#34;&gt;å®ç°åŸç†&lt;/h4&gt;
&lt;p&gt;å½“ä¸€ä¸ªä»»åŠ¡è¦è®¿é—®ä¸€ä¸ªç”±ä¿¡å·é‡ä¿æŠ¤çš„å…±äº«èµ„æºæ—¶ï¼Œé€šè¿‡ä¿¡å·é‡æä¾›çš„æ“ä½œå°†ä¿¡å·é‡çš„å€¼åšå‡1æ“ä½œï¼Œè‹¥æ­¤æ—¶å€¼å˜ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºå½“å‰èµ„æºä¸å¯å¾—ï¼Œè¯¥ä»»åŠ¡å¿…é¡»æŒ‚èµ·è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ç›´åˆ°è¯¥ä¿¡å·é‡å¯ç”¨ï¼›è‹¥å€¼ä¸ºéè´Ÿæ•°ï¼Œè¡¨ç¤ºæˆåŠŸè·å¾—ä¿¡å·é‡ï¼Œå¯ä»¥è®¿é—®å…±äº«èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»»åŠ¡è®¿é—®å®Œæ¯•åï¼Œéœ€è¦é‡Šæ”¾è·å¾—çš„ä¿¡å·é‡ï¼Œå³é€šè¿‡å¯¹åº”æ“ä½œå°†ä¿¡å·é‡çš„å€¼åŠ 1å®ç°ï¼ŒåŒæ—¶åˆ¤æ–­å½“å‰çš„å€¼æ­£è´Ÿã€‚è‹¥ä¸ºéæ­£æ•°ï¼Œè¡¨ç¤ºå½“å‰åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­æœ‰å…¶ä»–ä»»åŠ¡æ­£åœ¨æŒ‚èµ·ç­‰å¾…ï¼Œå› æ­¤éœ€è¦ä¸»åŠ¨å”¤é†’ç­‰å¾…ä¸­çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¯»å†™ä¿¡å·é‡&#34;&gt;è¯»å†™ä¿¡å·é‡&lt;/h3&gt;
&lt;p&gt;è¯»å†™ä¿¡å·é‡å°†ä¿¡å·é‡æŒ‰è®¿é—®ç›®çš„åšäº†åˆ†ç±»â€”â€”è¯»è€…å’Œå†™è€…ã€‚è¯»è€…å¯¹äºå…±äº«èµ„æºåªèƒ½åšè¯»æ“ä½œï¼Œä¸èƒ½ä¿®æ”¹ã€‚è€Œå†™ç€å¯ä»¥åŒæ—¶å¯¹å…±äº«èµ„æºè¿›è¡Œè¯»å†™ã€‚å› ä¸ºä¸¤è€…å¯¹å…±äº«å˜é‡åšçš„æ“ä½œä¸åŒï¼Œå› æ­¤å¯ä»¥ç”¨ä»¥ä¸‹è®¿é—®è§„åˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸€ä¸ªè¯»å†™ä¿¡å·é‡å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ªè¯»è€…ï¼Œå³å¤šä¸ªè¯»è€…å¯ä»¥åŒæ—¶è®¿é—®åŒä¸€ä¸ªå…±äº«èµ„æº&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯»è€…è·å¾—è¯»å†™ä¿¡å·é‡çš„å‰ææ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“å‰æ²¡æœ‰è¢«å†™è€…æ‹¥æœ‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ²¡æœ‰å†™è€…åœ¨ç­‰å¾…ä¿¡å·é‡é‡Šæ”¾&lt;/p&gt;
&lt;p&gt;å¦åˆ™ï¼Œè¯»è€…éœ€æŒ‚èµ·ç­‰å¾…å†™è€…é‡Šæ”¾ä¿¡å·é‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†™è€…è·å¾—è¯»å†™ä¿¡å·é‡çš„å‰ææ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“å‰æ²¡æœ‰è¢«å…¶ä»–è¯»è€…æˆ–å†™è€…æ‹¥æœ‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ²¡æœ‰å…¶ä»–å†™è€…åœ¨ç­‰å¾…ä¿¡å·é‡é‡Šæ”¾&lt;/p&gt;
&lt;p&gt;å¦åˆ™ï¼Œå†™è€…éœ€æŒ‚èµ·ç­‰å¾…ç›´åˆ°æ²¡æœ‰ä»»ä½•è®¿é—®&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ€»è€Œè¨€ä¹‹ï¼Œå†™è€…æ˜¯ç‹¬å è®¿é—®èµ„æºçš„ï¼Œå…·æœ‰æ’ä»–æ€§ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªå†™è€…è®¿é—®ä½†å¯¹äºå¤šä¸ªè¯»è€…å¯ä»¥åŒæ—¶è®¿é—®ã€‚åŒæ—¶ï¼Œä¸ºäº†ä¿è¯å†™è€…ä¸è¢«é¥¿æ­»ï¼Œåªè¦æœ‰å†™è€…åœ¨ç­‰å¾…ï¼Œè¯»è€…å°±ä¸èƒ½è¿›å…¥è®¿é—®ï¼Œå³ä½¿å½“å‰æ˜¯å…¶ä»–è¯»è€…åœ¨è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Linuxä¸­ï¼Œæä¾›äº†å°†å†™è€…é™çº§ä¸ºè¯»è€…çš„æ–¹æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;void downgrade_write(struct rw_semaphore *sem);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å‡½æ•°ç”¨äºæŠŠå†™è€…é™çº§ä¸ºè¯»è€…ã€‚å†™è€…ä¿æŒè¯»å†™ä¿¡å·é‡æœŸé—´ï¼Œä»»ä½•è¯»è€…æˆ–å†™è€…éƒ½å°†æ— æ³•è®¿é—®è¯¥è¯»å†™ä¿¡å·é‡ä¿æŠ¤çš„å…±äº«èµ„æºï¼Œå¯¹äºé‚£äº›å½“å‰æ¡ä»¶ä¸‹ä¸éœ€è¦å†™è®¿é—®çš„å†™è€…ï¼Œé™çº§ä¸ºè¯»è€…å°†ä½¿å¾—ç­‰å¾…è®¿é—®çš„è¯»è€…èƒ½å¤Ÿç«‹åˆ»è®¿é—®ï¼Œä»è€Œå¢åŠ äº†å¹¶å‘æ€§ï¼Œæé«˜äº†æ•ˆç‡ã€‚å› æ­¤ï¼Œè¯»å†™ä¿¡å·é‡é€‚ç”¨äºè¯»å¤šå†™å°‘çš„æƒ…å†µ&lt;/p&gt;
&lt;h3 id=&#34;è‡ªæ—‹é”&#34;&gt;è‡ªæ—‹é”&lt;/h3&gt;
&lt;p&gt;spinlockï¼Œè‡ªæ—‹é”ä¸äº’æ–¥é”æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ä»»åŠ¡åœ¨&lt;strong&gt;è°ƒç”¨è‡ªæ—‹é”æ—¶ä¸ä¼šå…¥ç¡&lt;/strong&gt;ï¼Œè‹¥è¯¥è‡ªæ—‹é”å·²ç»è¢«å ç”¨ï¼Œåˆ™è°ƒç”¨è€…ä¼šä¸€ç›´å¾ªç¯ç­‰å¾…é”çš„é‡Šæ”¾ï¼Œä¹Ÿå°±æ˜¯ä¿æŒâ€œè‡ªæ—‹â€ã€‚è‡ªæ—‹é”é€‚ç”¨äºä¿æŒé”çš„æ—¶é—´éå¸¸çŸ­çš„æƒ…å†µï¼Œå› æ­¤ä¸ºäº†æé«˜æ•ˆç‡ï¼Œé€‰æ‹©è‡ªæ—‹è€Œä¸æ˜¯å…¥ç¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹æ¯”ä¿¡å·é‡æ¥è¯´ï¼Œè‡ªæ—‹é”å¯ä»¥åœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡å’Œä¸­æ–­å¤„ç†ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ï¼Œè€Œä¿¡å·é‡åªèƒ½åœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;åœ¨ä¿æŒè‡ªæ—‹é”çš„æœŸé—´ï¼Œè¿›ç¨‹æ˜¯ä¸æ”¾å¼ƒCPUçš„ï¼Œè€Œä¿¡å·é‡åœ¨ä¿æŒæœŸé—´æ˜¯å¯ä»¥æ”¾å¼ƒCPUçš„ã€‚å¯¹äºå¯å‰¥å¤ºçš„Linuxå†…æ ¸ï¼Œå•CPUçš„æƒ…å†µä¸‹ï¼Œè‡ªæ—‹é”åªåšäº†å…³é—­ä¸­æ–­å’Œå¼€å¯ä¸­æ–­çš„æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¯»å†™é”&#34;&gt;è¯»å†™é”&lt;/h3&gt;
&lt;p&gt;è¯»å†™é”å°±æ˜¯å¯¹è‡ªæ—‹é”æŒ‰è®¿é—®ç›®çš„åˆ’åˆ†ä¸ºè¯»è€…ï¼Œå†™è€…ï¼Œæé«˜ç³»ç»Ÿçš„å¹¶å‘åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¯»å†™é”å½“å‰æ²¡æœ‰è¯»è€…ï¼Œä¹Ÿæ²¡æœ‰å†™è€…ï¼Œé‚£ä¹ˆå†™è€…å¯ä»¥ç«‹åˆ»è·å¾—è¯»å†™é”ï¼Œå¦åˆ™å®ƒå¿…é¡»è‡ªæ—‹åœ¨é‚£é‡Œï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•å†™è€…æˆ–è¯»è€…&lt;/li&gt;
&lt;li&gt;å¦‚æœè¯»å†™é”æ²¡æœ‰å†™è€…ï¼Œé‚£ä¹ˆè¯»è€…å¯ä»¥ç«‹å³è·å¾—è¯¥è¯»å†™é”ï¼Œå¦åˆ™è¯»è€…å¿…é¡»è‡ªæ—‹åœ¨é‚£é‡Œï¼Œç›´åˆ°å†™è€…é‡Šæ”¾è¯¥è¯»å†™é”&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rcu&#34;&gt;RCU&lt;/h3&gt;
&lt;p&gt;RCUï¼ˆRead-Copy Updateï¼‰ï¼Œå¯¹äºè¢«RCUä¿æŠ¤çš„å…±äº«æ•°æ®ç»“æ„ï¼Œè¯»è€…ä¸éœ€è¦è·å¾—ä»»ä½•é”å°±å¯ä»¥è®¿é—®å®ƒï¼Œä½†å†™è€…åœ¨è®¿é—®å®ƒæ—¶é¦–å…ˆæ‹·è´ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå¯¹å‰¯æœ¬è¿›è¡Œä¿®æ”¹ï¼Œæœ€åä½¿ç”¨ä¸€ä¸ªå›è°ƒï¼ˆcallbackï¼‰æœºåˆ¶åœ¨é€‚å½“çš„æ—¶æœºæŠŠæŒ‡å‘åŸæ¥æ•°æ®çš„æŒ‡é’ˆé‡æ–°æŒ‡å‘æ–°çš„è¢«ä¿®æ”¹çš„æ•°æ®ã€‚è¿™ä¸ªæ—¶æœºå°±æ˜¯æ‰€æœ‰å¼•ç”¨è¯¥æ•°æ®çš„CPUéƒ½é€€å‡ºå¯¹å…±äº«æ•°æ®çš„æ“ä½œ&lt;/p&gt;
&lt;h3 id=&#34;é¡ºåºé”&#34;&gt;é¡ºåºé”&lt;/h3&gt;
&lt;p&gt;å¯¹è¯»å†™é”çš„ä¼˜åŒ–ï¼Œ&lt;strong&gt;è¯»è€…ä¸ä¼šè¢«å†™è€…é˜»å¡&lt;/strong&gt;ï¼Œæ„å‘³ç€å†™è€…åœ¨è¿›è¡Œå†™æ“ä½œæ—¶è¯»è€…ä»ç„¶å¯ä»¥è¯»å–ï¼Œè¯»å†™æ˜¯å¯ä»¥åŒæ—¶å‘ç”Ÿçš„ï¼Œä½†å†™è€…ä¹‹é—´ä¾ç„¶äº’æ–¥ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶è¯»å†™å¯ä»¥å¹¶è¡Œï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ä¾ç„¶æœ‰è®¸å¤šé™åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¢«ä¿æŠ¤çš„èµ„æºä¸èƒ½æœ‰æŒ‡é’ˆï¼Œå¦åˆ™å½“å†™è€…ä¿®æ”¹æŒ‡é’ˆåï¼Œè¯»è€…è¯»å–æ—¶å¯èƒ½å¤±æ•ˆ&lt;/li&gt;
&lt;li&gt;è‹¥è¯»è€…è¯»å–æ—¶å‘ç”Ÿäº†å†™æ“ä½œï¼Œè¯»è€…éœ€è¦é‡æ–°è¯»å–æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;èˆ’å¾æ‰€é€‚ç”¨äºè¯»å†™åŒæ—¶è¿›è¡Œçš„æ¦‚ç‡è¾ƒå°çš„åœºæ™¯ï¼Œå…è®¸è¯»å†™åŒæ—¶è¿›è¡Œï¼Œæ€§èƒ½å’Œå¹¶å‘åº¦éƒ½æœ‰æé«˜&lt;/p&gt;
&lt;h2 id=&#34;ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜&#34;&gt;ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&#34;é—®é¢˜æ¦‚è¿°&#34;&gt;é—®é¢˜æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼Œå³å…±äº«å›ºå®šå¤§å°ç¼“å†²åŒºçš„ä¸¤ä¸ªè¿›ç¨‹â€”â€”ç”Ÿäº§è€…è¿›ç¨‹å’Œæ¶ˆè´¹è€…è¿›ç¨‹ã€‚ç”Ÿäº§è€…çš„ä¸»è¦ä½œç”¨æ˜¯ç”Ÿæˆä¸€å®šé‡çš„æ•°æ®æ”¾åˆ°ç¼“å†²åŒºä¸­ï¼Œäºæ­¤åŒæ—¶æ¶ˆè´¹è€…ä¹Ÿåœ¨ç¼“å†²åŒºä¸­æ¶ˆè€—è¿™äº›æ•°æ®ï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚ä¸»è¦éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿è¯ç”Ÿäº§è€…ä¸ä¼šåœ¨ç¼“å†²åŒºæ»¡æ˜¯åŠ å…¥æ•°æ®&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹è€…ä¹Ÿä¸ä¼šåœ¨ç¼“å†²åŒºç©ºæ—¶æ¶ˆè€—æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºä¿è¯ä»¥ä¸Šä¸¤ç‚¹ï¼Œå°±å¿…é¡»è®©ç”Ÿäº§è€…åœ¨ç¼“å†²åŒºæ»¡æ—¶ä¼‘çœ æˆ–å¹²è„†å°±æ”¾å¼ƒæ•°æ®ï¼Œç­‰åˆ°ä¸‹æ¬¡æ¶ˆè´¹è€…æ¶ˆè€—ç¼“å†²åŒºä¸­çš„æ•°æ®çš„æ—¶å€™ï¼Œç”Ÿäº§è€…æ‰èƒ½è¢«å”¤é†’ï¼Œå¼€å§‹å¾€ç¼“å†²åŒºæ·»åŠ æ•°æ®ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥è®©æ¶ˆè´¹è€…åœ¨ç¼“å†²åŒºç©ºæ—¶è¿›å…¥ä¼‘çœ ï¼Œç­‰åˆ°ç”Ÿäº§è€…å¾€ç¼“å†²åŒºæ·»åŠ æ•°æ®ä¹‹åï¼Œå†å”¤é†’æ¶ˆè´¹è€…ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸é‡‡ç”¨è¿›ç¨‹é—´é€šä¿¡çš„æ–¹æ³•è§£å†³è¯¥é—®é¢˜ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ä¿¡å·ç¯æ³•ç­‰ã€‚å¿…é¡»è¦æ³¨æ„çš„æ˜¯é˜²æ­¢å‡ºç°æ­»é”çš„æƒ…å†µã€‚å‡ºç°æ­»é”æ—¶ï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šé™·å…¥ä¼‘çœ ï¼Œç­‰å¾…å¯¹æ–¹å”¤é†’è‡ªå·±ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥é—®é¢˜ä¹Ÿèƒ½è¢«æ¨å¹¿åˆ°å¤šä¸ªç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŸºæœ¬å®ç°&#34;&gt;åŸºæœ¬å®ç°&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ä¿¡å·é‡ä¿è¯å¯¹é”çš„æ“ä½œæ˜¯åŸå­çš„ï¼Œé˜²æ­¢æ­»é”&lt;/p&gt;
&lt;p&gt;åœ¨åªæœ‰ä¸€å¯¹ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æƒ…å†µä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;semaphore fillCount = 0; // å·²ç”Ÿäº§é¡¹ç›®æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;semaphore emptyCount = BUFFER_SIZE; // å‰©ä½™é¡¹ç›®æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;procedure producer() {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    while (true) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        item = produceItem();
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        down(emptyCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            putItemIntoBuffer(item);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        up(fillCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;procedure consumer() {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    while (true) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        down(fillCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            item = removeItemFromBuffer();
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        up(emptyCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        consumeItem(item);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åœ¨å¤šä¸ªç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦ä¸€ä¸ªäº’æ–¥é”ä¿è¯ä¸€æ¬¡åªæœ‰ä¸€ä¸ªè¿›ç¨‹è¢«æ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;semaphore mutex = 1;	// äº’æ–¥é”
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;semaphore fillCount = 0;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;semaphore emptyCount = BUFFER_SIZE;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;procedure producer() {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    while (true) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        item = produceItem();
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        down(emptyCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            down(mutex);	// ä¿è¯ä¸€æ¬¡åªæœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨æ“ä½œç¼“å†²åŒº
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                putItemIntoBuffer(item);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            up(mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        up(fillCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;procedure consumer() {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    while (true) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        down(fillCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            down(mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                item = removeItemFromBuffer();
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            up(mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        up(emptyCount);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        consumeItem(item);
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;casé”&#34;&gt;CASé”&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;
&lt;h4 id=&#34;ä¹è§‚é”ä¸æ‚²è§‚é”&#34;&gt;ä¹è§‚é”ä¸æ‚²è§‚é”&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆåŒºåˆ†ä¸€ä¸‹ä¹è§‚é”å’Œæ‚²è§‚é”çš„æ¦‚å¿µ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¹è§‚é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€»æ˜¯å‡è®¾æœ€å¥½çš„æƒ…å†µï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æ›´æ–°çš„æ—¶å€™ä¼šåˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´åˆ«äººæœ‰æ²¡æœ‰å»æ›´æ–°è¿™ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·æœºåˆ¶å’ŒCASç®—æ³•å®ç°ã€‚&lt;strong&gt;ä¹è§‚é”é€‚ç”¨äºå¤šè¯»çš„æƒ…å†µï¼Œè¿™æ ·å¯ä»¥æé«˜ååé‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‚²è§‚é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€»æ˜¯å‡è®¾æœ€åçš„æƒ…å†µï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”ï¼Œè¿™æ ·åˆ«äººæƒ³æ‹¿è¿™ä¸ªæ•°æ®å°±ä¼šé˜»å¡ç›´åˆ°å®ƒæ‹¿åˆ°é”ã€‚&lt;strong&gt;å…±äº«èµ„æºæ¯æ¬¡åªç»™ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œå…¶å®ƒçº¿ç¨‹é˜»å¡ï¼Œç”¨å®Œåå†æŠŠèµ„æºè½¬è®©ç»™å…¶å®ƒçº¿ç¨‹ï¼Œé€‚åˆå¤šå†™çš„æƒ…å†µ&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯cas&#34;&gt;ä»€ä¹ˆæ˜¯CAS&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;CASå³ï¼ˆCompare And Swapï¼‰ï¼Œæ„ä¸ºæ¯”è¾ƒå¹¶æ›¿æ¢&lt;/li&gt;
&lt;li&gt;CASæ˜¯CPUçš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œå› æ­¤æ˜¯åŸå­æ“ä½œï¼Œä¿è¯å¹¶å‘å®‰å…¨&lt;/li&gt;
&lt;li&gt;CASæ˜¯éé˜»å¡çš„ã€è½»é‡çº§çš„ä¹è§‚é”&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å®ç°åŸç†-1&#34;&gt;å®ç°åŸç†&lt;/h4&gt;
&lt;p&gt;CASä½œä¸ºä¸€æ¡CPUæŒ‡ä»¤çº§åˆ«çš„æ“ä½œï¼Œåšçš„æ“ä½œä¸ºï¼šå¦‚æœè¦ä¿®æ”¹çš„å˜é‡ä¸ºæˆ‘æœŸå¾…çš„å€¼ï¼Œåˆ™å°†å…¶ä¿®æ”¹ä¸ºä¸€ä¸ªæ–°å€¼ï¼Œå¦åˆ™è¿™æ¬¡æ“ä½œå¤±è´¥ã€‚å› æ­¤ï¼Œå½“æœ‰å¤šä¸ªçº¿ç¨‹å°è¯•ä½¿ç”¨CASæ›´æ–°åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æˆåŠŸæ›´æ–°å˜é‡çš„å€¼ï¼Œå…¶ä»–éƒ½å¤±è´¥ï¼Œä½†å¤±è´¥çš„çº¿ç¨‹ä¸ä¼šå…¥ç¡ï¼Œè€Œæ˜¯å†æ¬¡å°è¯•ï¼Œç›´åˆ°ä¿®æ”¹æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªçº¿ç¨‹åšçš„äº‹æƒ…å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;do{   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     å¤‡ä»½æ—§æ•°æ®ï¼›  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     åŸºäºæ—§æ•°æ®æ„é€ æ–°æ•°æ®ï¼›  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}while(!CAS( å†…å­˜åœ°å€ï¼Œå¤‡ä»½çš„æ—§æ•°æ®ï¼Œæ–°æ•°æ®))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè‹¥CASæ“ä½œä¸æˆåŠŸï¼Œåˆ™é‡å¤å¾ªç¯å°è¯•ï¼ŒæˆåŠŸåè·³å‡ºå¾ªç¯&lt;/p&gt;
&lt;h3 id=&#34;ç”¨casé”æ”¹é€ æœ‰ç•Œç¼“å†²åŒºä¸ºæ— é”é˜Ÿåˆ—&#34;&gt;ç”¨CASé”æ”¹é€ æœ‰ç•Œç¼“å†²åŒºä¸ºæ— é”é˜Ÿåˆ—&lt;/h3&gt;
&lt;p&gt;ç”¨CASå®ç°ä¸€ä¸ªæ— é”é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;typedef struct Node
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    int data;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    struct Node *next;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;} Node;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Node *head, *tail;	// å…±äº«å˜é‡æŒ‡å‘é˜Ÿåˆ—çš„å¤´å°¾
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bool is_empty()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    if (head-&amp;gt;next == NULL)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        return true;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    return false;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;void push_back(void* data)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Node* old;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Node* newNode = new Node();
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    newNode-&amp;gt;data = data;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    newNode-&amp;gt;next = NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    do 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        // è·å–æ—§å°¾ç»“ç‚¹æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		old = tail;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    // ä½¿ç”¨CASåˆ¤æ–­æ­¤æ¬¡å†™å…¥æ˜¯å¦æˆåŠŸï¼Œåªæœ‰å€¼ä¸ºNULLæ‰å¯å†™å…¥æ–°ç»“ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }while (!cas(&amp;amp;(old-&amp;gt;next), NULL, newNode));
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    tail = newNode;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;int pop_front(int *e)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Node *old;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    do {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    	if(is_empty())
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        	return 0;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        // è·å–æ—§çš„å¤´ç»“ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        old = head-&amp;gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    // ä½¿ç”¨CASåˆ¤æ–­å½“å‰headæŒ‡é’ˆæ˜¯å¦è¿˜æŒ‡å‘oldå–åˆ°çš„å¤´èŠ‚ç‚¹ï¼Œæ˜¯ï¼Œåˆ™ä»é˜Ÿåˆ—ä¸­å–å‡ºè¯¥èŠ‚ç‚¹ï¼Œå¦åˆ™å¤±è´¥
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    } (!cas(&amp;amp;(head-&amp;gt;next), old, old-&amp;gt;next));
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    *e = old-&amp;gt;data;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    delete old;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    return 1;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¹‹åå¯å°†è¿™ä¸ªæ— é”é˜Ÿåˆ—æ›¿æ¢åˆ°ä¹‹å‰è¯»è€…å†™è€…é—®é¢˜ä¸­çš„æœ‰ç•Œç¼“å†²åŒºï¼Œå¤§å¤§æé«˜ç³»ç»Ÿçš„å¹¶å‘åº¦&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
